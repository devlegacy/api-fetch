!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseComponent=void 0;var o=function(){function t(t){this.selector=t.selector}return t.prototype.render=function(t){this.selector&&(document.querySelector(this.selector).innerHTML=null==t?void 0:t.data)},t}();e.BaseComponent=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToDoService=void 0;var o=n(5),r=n(6),c=function(){function t(){this.serviceURL=r.ApiConfig.BASE_URL+"/todos/",this.http=new o.HttpClient}return t.prototype.getAll=function(t){return void 0===t&&(t=20),this.http.get(this.serviceURL+"?_limit="+t)},t.prototype.find=function(){},t.prototype.create=function(t){return this.http.post(""+this.serviceURL,t)},t.prototype.update=function(t){return this.http.update(""+this.serviceURL+t.id,t)},t.prototype.destroy=function(t){return this.http.destroy(""+this.serviceURL+t.id)},t}();e.ToDoService=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(4),c=n(7),i=n(9),s=n(10);(new(function(){function t(){}return t.prototype.start=function(){document.addEventListener("DOMContentLoaded",(function(){console.log(">> Start app"),new o.NavBarComponent({selector:".navbar-burger"}).render(),new s.PracticeComponent({selector:"#practices"}).render(),new i.UploadComponent({selector:"#frm-upload"}).render(),new r.ToDoCardComponent({selector:"#to-do-container"}).render(),new c.CreateToDoComponent({selector:"#frm-create-post"}).render()}))},t}())).start()},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NavBarComponent=void 0;var c=n(0),i=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.findNavBarElements=function(){return Array.prototype.slice.call(document.querySelectorAll(this.selector),0)},e.prototype.handlerNavBarClick=function(t){t.addEventListener("click",(function(){var e=t.dataset.target||"navMenu",n=document.getElementById(e);t.classList.toggle("is-active"),null==n||n.classList.toggle("is-active")}))},e.prototype.render=function(){var t=this.findNavBarElements();null==t||t.forEach(this.handlerNavBarClick)},e}(c.BaseComponent);e.NavBarComponent=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToDoCardComponent=void 0;var c=n(1),i=function(t){function e(e,n){void 0===n&&(n=new c.ToDoService);var o=t.call(this,e)||this;return o.toDoService=n,o.posts=[],o}return r(e,t),e.prototype.template=function(){var t="";return this.posts.forEach((function(e){t+='\n        <div class="column is-12">\n          <article class="card">\n            <div class="card-content">\n              <div  class="content"\n                    data-id="'+e.id+'"\n                    data-title="'+e.title+"\"\n                    data-post='"+JSON.stringify(e)+"'>\n                "+e.title+'\n              </div>\n            </div>\n            <footer class="card-footer">\n              <a href="#" class="card-footer-item">\n                <button class="button is-danger">\n                  <span class="icon is-small">\n                    <i class="fas fa-trash"></i>\n                  </span>\n                  <span class="btn-delete-todo">\n                    Delete\n                  </span>\n                </button>\n              </a>\n            </footer>\n          </article>\n        </div>\n      '})),t},e.prototype.getToDoTitle=function(t){return t.querySelector(".content")||t},e.prototype.handlerTitleClick=function(t){var e=t.target,n=this.getToDoTitle(e);if(e.classList.contains("card-content")&&"true"===n.contentEditable)return t.preventDefault(),n.classList.remove("px-4","py-4"),void(n.contentEditable="false");"true"!==n.contentEditable&&(n.contentEditable="true",n.classList.add("px-4","py-4"),n.focus())},e.prototype.handlerTitleBlur=function(t){var e=this,n=t.target,o=n.closest(".card-content"),r=JSON.parse(n.dataset.post);r.title=n.innerText,null==o||o.classList.add("has-background-warning"),n.classList.remove("px-4","py-4"),n.contentEditable="false",this.toDoService.update(r).then((function(){null==o||o.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),null==o||o.classList.remove("has-background-warning")}))},e.prototype.handlerDeleteToDo=function(t){var e,n=t.target,o=n.closest("button"),r=null===(e=n.closest("article"))||void 0===e?void 0:e.querySelector(".content"),c=JSON.parse(r.dataset.post);o.disabled=!0,this.toDoService.destroy(c).then((function(){var t;null===(t=r.closest("div.column"))||void 0===t||t.remove()}))},e.prototype.handlerToDoCardActions=function(t){var e=this;t.forEach((function(t){var n,o=e.getToDoTitle(t),r=null===(n=t.closest(".card"))||void 0===n?void 0:n.querySelector("button");t.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),o.addEventListener("blur",(function(t){return e.handlerTitleBlur(t)})),r.addEventListener("click",(function(t){return e.handlerDeleteToDo(t)}))}))},e.prototype.render=function(){var e=this,n=document.querySelector(this.selector);n&&this.toDoService.getAll().then((function(o){e.posts=o,t.prototype.render.call(e,{data:e.template()});var r=n.querySelectorAll(".card-content");e.handlerToDoCardActions(r)}))},e}(n(0).BaseComponent);e.ToDoCardComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpClient=void 0;var o=function(){function t(){}return t.prototype.get=function(e){return t.configureRequest(e,"GET")},t.prototype.destroy=function(e){return t.configureRequest(e,"DELETE")},t.prototype.post=function(e,n){return t.configureRequest(e,"POST",n)},t.prototype.update=function(e,n){return t.configureRequest(e,"PUT",n)},t.configureRequest=function(t,e,n){return fetch(t,{method:e,body:JSON.stringify(n),headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"}}).then((function(t){return t.json()}))},t}();e.HttpClient=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiConfig=void 0;var o=function(){function t(){}return t.BASE_URL="https://jsonplaceholder.typicode.com",t}();e.ApiConfig=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CreateToDoComponent=void 0;var c=n(1),i=n(8),s=function(t){function e(e,n){void 0===n&&(n=new c.ToDoService);var o=t.call(this,e)||this;return o.toDoService=n,o}return r(e,t),e.prototype.template=function(t){return'\n    <article class="card">\n      <div class="card-content">\n        <div  class="content"\n              data-id="'+t.id+'"\n              data-title="'+t.title+"\"\n              data-post='"+JSON.stringify(t)+"'>\n          "+t.title+'\n        </div>\n      </div>\n      <footer class="card-footer">\n        <a href="#" class="card-footer-item">\n          <button class="button is-danger">\n            <span class="icon is-small">\n              <i class="fas fa-trash"></i>\n            </span>\n            <span class="btn-delete-todo">\n              Delete\n            </span>\n          </button>\n        </a>\n      </footer>\n    </article>\n'},e.prototype.getToDoTitle=function(t){return t.querySelector(".content")||t},e.prototype.handlerTitleClick=function(t){var e=t.target,n=this.getToDoTitle(e);if(e.classList.contains("card-content")&&"true"===n.contentEditable)return t.preventDefault(),n.classList.remove("px-4","py-4"),void(n.contentEditable="false");"true"!==n.contentEditable&&(n.contentEditable="true",n.classList.add("px-4","py-4"),n.focus())},e.prototype.handlerTitleBlur=function(t){var e=this,n=t.target,o=n.closest(".card-content"),r=JSON.parse(n.dataset.post);r.title=n.innerText,null==o||o.classList.add("has-background-warning"),n.classList.remove("px-4","py-4"),n.contentEditable="false",this.toDoService.update(r).then((function(){null==o||o.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),null==o||o.classList.remove("has-background-warning")}))},e.prototype.handlerDeleteToDo=function(t){var e,n=t.target,o=n.closest("button"),r=null===(e=n.closest("article"))||void 0===e?void 0:e.querySelector(".content"),c=JSON.parse(r.dataset.post);o.disabled=!0,this.toDoService.destroy(c).then((function(){var t;null===(t=r.closest("div.column"))||void 0===t||t.remove()}))},e.prototype.handlerCreateToDo=function(t){var e,n=this;t.preventDefault();var o=t.target,r=o.querySelector("button"),c=o.querySelector("textarea");null===(e=null==c?void 0:c.closest(".control"))||void 0===e||e.classList.add("is-loading"),null==r||r.classList.add("is-loading"),r.disabled=!0;var s=new i.Post(c.value);return this.toDoService.create(s).then((function(t){var e,o,i;s.id=200;var a=document.createElement("div");a.classList.add("column","is-12"),a.innerHTML=n.template(s),null===(e=document.querySelector("#to-do-container"))||void 0===e||e.prepend(a);var l=a.querySelector(".card");if(l){var u=n.getToDoTitle(l),p=null===(o=l.closest(".card"))||void 0===o?void 0:o.querySelector("button");l.addEventListener("click",(function(t){return n.handlerTitleClick(t)}),{once:!0}),u.addEventListener("blur",(function(t){return n.handlerTitleBlur(t)})),p.addEventListener("click",(function(t){return n.handlerDeleteToDo(t)}))}null===(i=null==c?void 0:c.closest(".control"))||void 0===i||i.classList.remove("is-loading"),null==r||r.classList.remove("is-loading"),r.disabled=!1,c.value=""})),!1},e.prototype.render=function(){var t=this,e=document.querySelector(this.selector);null==e||e.addEventListener("submit",(function(e){return t.handlerCreateToDo(e)}))},e}(n(0).BaseComponent);e.CreateToDoComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Post=void 0;var o=function(t){this.userId=0,this.id=0,this.title="",this.body="",this.title=t};e.Post=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadComponent=void 0;var c=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.handlerUploadInputName=function(t){var e=null==t?void 0:t.querySelector("#file");null==e||e.addEventListener("change",(function(e){var n=e.target.files;if(n&&n.length>0){var o=null==t?void 0:t.querySelector(".file-name");o&&(o.textContent=n[0].name)}}))},e.prototype.handlerUpload=function(t){t.preventDefault();var e=t.target,n=new FormData(e);return fetch(e.action,{method:"POST",body:n}).then((function(t){return t.text()})).then((function(t){return alert(t)})).catch((function(t){return console.error("[Upload fetch error]:",t.message)})),!1},e.prototype.render=function(){var t=document.querySelector(this.selector);t&&this.handlerUploadInputName(t),null==t||t.addEventListener("submit",this.handlerUpload)},e}(n(0).BaseComponent);e.UploadComponent=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PracticeComponent=void 0;var c=n(11),i=function(t){function e(e,n){void 0===n&&(n=new c.PracticeService);var o=t.call(this,e)||this;return o.practiceService=n,o}return r(e,t),e.prototype.render=function(){document.querySelector(this.selector)&&(this.practiceService.firstFetch(),this.practiceService.firstFetchWithAsyncAwait(),this.practiceService.handleError(),this.practiceService.queryParams(),this.practiceService.httpMethodPost(),this.practiceService.httpMethodGet(),this.practiceService.httpMethodPut(),this.practiceService.httpHeaders(),this.practiceService.httpCookies())},e}(n(0).BaseComponent);e.PracticeComponent=i},function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,c){function i(t){try{a(o.next(t))}catch(t){c(t)}}function s(t){try{a(o.throw(t))}catch(t){c(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}a((o=o.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PracticeService=void 0;var c=function(){function t(){}return t.prototype.firstFetch=function(){fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return console.log(typeof t),t.json()})).then((function(t){return console.log(t)}))},t.prototype.firstFetchWithAsyncAwait=function(){o(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,fetch("https://jsonplaceholder.typicode.com/posts")];case 1:return[4,e.sent().json()];case 2:return t=e.sent(),console.log(t),[2]}}))}))},t.prototype.handleError=function(){fetch("https://jsonplaceholder.typicode.com/pos").then((function(t){if(console.log("Status code: "+t.status),t.status>=200&&t.status<300)return t.json();throw new Error("Error in the fetch request")})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Fetch error]:",t.message)}))},t.prototype.queryParams=function(){var t={userId:1,_limit:3},e=new URL("https://jsonplaceholder.typicode.com/posts");Object.keys(t).forEach((function(n){e.searchParams.append(n,t[n])})),console.log(e),fetch(e.href).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},t.prototype.httpMethodPost=function(){fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({userId:1,title:"foo",body:"bar"}),headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},t.prototype.httpMethodGet=function(){fetch("http://localhost:8000/api/",{method:"GET"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpMethodPut=function(){fetch("http://localhost:8000/api/",{method:"PUT"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpHeaders=function(){fetch("http://localhost:8000/api/",{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8",Authentication:"Bearer: xxxxxxxyyyyxxxxyyy"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpCookies=function(){document.cookie="username=Samuel",fetch("http://localhost:8000/api/",{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8",Authentication:"Bearer: xxxxxxxyyyyxxxxyyy"},credentials:"include"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t}();e.PracticeService=c}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvdG8tZG8uc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tbW9uL25hdi1iYXIuY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG8vdG8tZG8tY2FyZC5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2h0dHAtY2xpZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvYXBpLWNvbmZpZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90b2RvL2NyZWF0ZS10by1kby5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9wb3N0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VwbG9hZC5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcHJhY3RpY2UuY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9wcmFjdGljZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwib3B0aW9ucyIsInRoaXMiLCJzZWxlY3RvciIsInJlbmRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsImRhdGEiLCJCYXNlQ29tcG9uZW50Iiwic2VydmljZVVSTCIsIkFwaUNvbmZpZyIsIkJBU0VfVVJMIiwiaHR0cCIsIkh0dHBDbGllbnQiLCJnZXRBbGwiLCJsaW1pdCIsImZpbmQiLCJwb3N0IiwidXBkYXRlIiwiaWQiLCJkZXN0cm95IiwiVG9Eb1NlcnZpY2UiLCJzdGFydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiTmF2QmFyQ29tcG9uZW50IiwiUHJhY3RpY2VDb21wb25lbnQiLCJVcGxvYWRDb21wb25lbnQiLCJUb0RvQ2FyZENvbXBvbmVudCIsIkNyZWF0ZVRvRG9Db21wb25lbnQiLCJmaW5kTmF2QmFyRWxlbWVudHMiLCJBcnJheSIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsImhhbmRsZXJOYXZCYXJDbGljayIsIiRuYXYiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiJHRhcmdldCIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiJG5hdmJhckJ1cmdlciIsImZvckVhY2giLCJ0b0RvU2VydmljZSIsInBvc3RzIiwidGVtcGxhdGUiLCJ0aXRsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRUb0RvVGl0bGUiLCIkZWxlbWVudCIsImhhbmRsZXJUaXRsZUNsaWNrIiwiZSIsIiR0aXRsZSIsImNvbnRhaW5zIiwiY29udGVudEVkaXRhYmxlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJhZGQiLCJmb2N1cyIsImhhbmRsZXJUaXRsZUJsdXIiLCIkdG9kb0NhcmQiLCJjbG9zZXN0IiwicGFyc2UiLCJpbm5lclRleHQiLCJ0aGVuIiwib25jZSIsImhhbmRsZXJEZWxldGVUb0RvIiwiJGJ0biIsIiR0b2RvIiwiZGlzYWJsZWQiLCJoYW5kbGVyVG9Eb0NhcmRBY3Rpb25zIiwiJHRvZG9DYXJkcyIsIiRidG5EZWxldGUiLCIkdG9kb0NvbnRhaW5lciIsInVybCIsImNvbmZpZ3VyZVJlcXVlc3QiLCJib2R5IiwibWV0aG9kIiwiZmV0Y2giLCJoZWFkZXJzIiwiQWNjZXB0IiwicmVzcG9uc2UiLCJqc29uIiwiaGFuZGxlckNyZWF0ZVRvRG8iLCIkZm9ybSIsIiRidXR0b24iLCIkaW5wVGl0bGUiLCJQb3N0IiwiJG5ld1Bvc3QiLCJjcmVhdGVFbGVtZW50IiwicHJlcGVuZCIsInVzZXJJZCIsImhhbmRsZXJVcGxvYWRJbnB1dE5hbWUiLCIkZmlsZSIsImZpbGVzIiwibGVuZ3RoIiwiJGZpbGVuYW1lIiwidGV4dENvbnRlbnQiLCJoYW5kbGVyVXBsb2FkIiwiRm9ybURhdGEiLCJhY3Rpb24iLCJ0ZXh0IiwiYWxlcnQiLCJjYXRjaCIsImVyciIsImVycm9yIiwibWVzc2FnZSIsInByYWN0aWNlU2VydmljZSIsIlByYWN0aWNlU2VydmljZSIsImZpcnN0RmV0Y2giLCJmaXJzdEZldGNoV2l0aEFzeW5jQXdhaXQiLCJoYW5kbGVFcnJvciIsInF1ZXJ5UGFyYW1zIiwiaHR0cE1ldGhvZFBvc3QiLCJodHRwTWV0aG9kR2V0IiwiaHR0cE1ldGhvZFB1dCIsImh0dHBIZWFkZXJzIiwiaHR0cENvb2tpZXMiLCJzdGF0dXMiLCJFcnJvciIsIl9saW1pdCIsIlVSTCIsImtleXMiLCJwYXJhbUtleSIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsImhyZWYiLCJBdXRoZW50aWNhdGlvbiIsImNvb2tpZSIsImNyZWRlbnRpYWxzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FB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NUQsR0FBUyxPQUFBaUIsUUFBUUMsSUFBSWxCLE1BQzNCbUcsT0FBTSxTQUFDQyxHQUFlLE9BQUFuRixRQUFRb0YsTUFBTSxzQkFBdUJELEVBQUlFLGFBRzdELFlBQUFXLFlBQVAsV0FFRXBILFNBQVMrSCxPQUFTLGtCQUNsQmxELE1BQU0sNkJBQThCLENBQ2xDRCxPQUFRLE1BQ1JFLFFBQVMsQ0FDUCxlQUFnQixrQ0FDaEJDLE9BQVEsa0NBQ1IrQyxlQUFnQiw4QkFFbEJFLFlBQWEsWUFPWmpFLE1BQUssU0FBQ2lCLEdBQXVCLE9BQUFBLEVBQVNDLFVBQ3RDbEIsTUFBSyxTQUFDNUQsR0FBUyxPQUFBaUIsUUFBUUMsSUFBSWxCLE1BQzNCbUcsT0FBTSxTQUFDQyxHQUFlLE9BQUFuRixRQUFRb0YsTUFBTSxzQkFBdUJELEVBQUlFLGFBRXRFLEVBNUhBLEdBQWEsRUFBQUUiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vb3B0aW9ucy9jb21wb25lbnQtb3B0aW9uJztcblxuZXhwb3J0IGNsYXNzIEJhc2VDb21wb25lbnQge1xuICBwcm90ZWN0ZWQgc2VsZWN0b3I6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBDb21wb25lbnRPcHRpb24pIHtcbiAgICB0aGlzLnNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlcihvcHRpb25zOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rvcikge1xuICAgICAgY29uc3QgJGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKTtcbiAgICAgICRlbGVtZW50IS5pbm5lckhUTUwgPSBvcHRpb25zPy5kYXRhO1xuICAgICAgLy8gaWYgKCRlbGVtZW50KSB7XG4gICAgICAvLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9yZWxlYXNlLW5vdGVzL3R5cGVzY3JpcHQtMy03Lmh0bWwjb3B0aW9uYWwtY2hhaW5pbmdcbiAgICAgIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC0yLTAuaHRtbCNub24tbnVsbC1hc3NlcnRpb24tb3BlcmF0b3JcbiAgICAgIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC0zLTkuaHRtbCNwYXJzaW5nLWRpZmZlcmVuY2VzLWluLW9wdGlvbmFsLWNoYWluaW5nLWFuZC1ub24tbnVsbC1hc3NlcnRpb25zXG4gICAgICAvLyB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnLi4vdXRpbHMvaHR0cC1jbGllbnQnO1xuaW1wb3J0IHsgQXBpQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL2FwaS1jb25maWcnO1xuaW1wb3J0IHsgUG9zdCB9IGZyb20gJy4uL21vZGVscy9wb3N0JztcblxuZXhwb3J0IGNsYXNzIFRvRG9TZXJ2aWNlIHtcbiAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50O1xuICBwcml2YXRlIHNlcnZpY2VVUkw6IHN0cmluZyA9IGAke0FwaUNvbmZpZy5CQVNFX1VSTH0vdG9kb3MvYDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmh0dHAgPSBuZXcgSHR0cENsaWVudCgpO1xuICB9XG5cbiAgZ2V0QWxsKGxpbWl0OiBudW1iZXIgPSAyMCk6IFByb21pc2U8QXJyYXk8UG9zdD4+IHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldChgJHt0aGlzLnNlcnZpY2VVUkx9P19saW1pdD0ke2xpbWl0fWApO1xuICB9XG5cbiAgZmluZCgpIHt9XG5cbiAgY3JlYXRlKHBvc3Q6IFBvc3QpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QoYCR7dGhpcy5zZXJ2aWNlVVJMfWAsIHBvc3QpO1xuICB9XG5cbiAgdXBkYXRlKHBvc3Q6IFBvc3QpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLnVwZGF0ZShgJHt0aGlzLnNlcnZpY2VVUkx9JHtwb3N0LmlkfWAsIHBvc3QpO1xuICB9XG5cbiAgZGVzdHJveShwb3N0OiBQb3N0KSB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5kZXN0cm95KGAke3RoaXMuc2VydmljZVVSTH0ke3Bvc3QuaWR9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5hdkJhckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb21tb24vbmF2LWJhci5jb21wb25lbnQnO1xuaW1wb3J0IHsgVG9Eb0NhcmRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdG9kby90by1kby1jYXJkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDcmVhdGVUb0RvQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RvZG8vY3JlYXRlLXRvLWRvLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBVcGxvYWRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdXBsb2FkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQcmFjdGljZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9wcmFjdGljZS5jb21wb25lbnQnO1xuXG5jbGFzcyBBcHAge1xuICBzdGFydCgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJz4+IFN0YXJ0IGFwcCcpO1xuICAgICAgbmV3IE5hdkJhckNvbXBvbmVudCh7IHNlbGVjdG9yOiAnLm5hdmJhci1idXJnZXInIH0pLnJlbmRlcigpO1xuICAgICAgbmV3IFByYWN0aWNlQ29tcG9uZW50KHsgc2VsZWN0b3I6ICcjcHJhY3RpY2VzJyB9KS5yZW5kZXIoKTtcbiAgICAgIG5ldyBVcGxvYWRDb21wb25lbnQoeyBzZWxlY3RvcjogJyNmcm0tdXBsb2FkJyB9KS5yZW5kZXIoKTtcblxuICAgICAgbmV3IFRvRG9DYXJkQ29tcG9uZW50KHsgc2VsZWN0b3I6ICcjdG8tZG8tY29udGFpbmVyJyB9KS5yZW5kZXIoKTtcbiAgICAgIG5ldyBDcmVhdGVUb0RvQ29tcG9uZW50KHsgc2VsZWN0b3I6ICcjZnJtLWNyZWF0ZS1wb3N0JyB9KS5yZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5uZXcgQXBwKCkuc3RhcnQoKTtcbiIsImltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvYmFzZS1jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS9vcHRpb25zL2NvbXBvbmVudC1vcHRpb24nO1xuaW1wb3J0IHsgUmVuZGVyZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvcmVuZGVyZWQtY29tcG9uZW50JztcblxuY29uc3QgREVGQVVMVF9UQVJHRVQgPSAnbmF2TWVudSc7XG5jb25zdCBOQVZfVE9HR0xFX0NMQVNTID0gJ2lzLWFjdGl2ZSc7XG5cbmV4cG9ydCBjbGFzcyBOYXZCYXJDb21wb25lbnRcbiAgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG4gIGltcGxlbWVudHMgUmVuZGVyZWRDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBDb21wb25lbnRPcHRpb24pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZE5hdkJhckVsZW1lbnRzKCk6IEFycmF5PEhUTUxFbGVtZW50PiB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKSxcbiAgICAgIDBcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyTmF2QmFyQ2xpY2soJG5hdjogSFRNTEVsZW1lbnQpIHtcbiAgICAkbmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy8gR2V0IHRoZSB0YXJnZXQgZnJvbSB0aGUgXCJkYXRhLXRhcmdldFwiIGF0dHJpYnV0ZVxuICAgICAgY29uc3QgdGFyZ2V0ID0gJG5hdi5kYXRhc2V0LnRhcmdldCB8fCBERUZBVUxUX1RBUkdFVDtcbiAgICAgIGNvbnN0ICR0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO1xuXG4gICAgICAvLyBUb2dnbGUgdGhlIFwiaXMtYWN0aXZlXCIgY2xhc3Mgb24gYm90aCB0aGUgXCJuYXZiYXItYnVyZ2VyXCIgYW5kIHRoZSBcIm5hdmJhci1tZW51XCJcbiAgICAgICRuYXYuY2xhc3NMaXN0LnRvZ2dsZShOQVZfVE9HR0xFX0NMQVNTKTtcbiAgICAgICR0YXJnZXQ/LmNsYXNzTGlzdC50b2dnbGUoTkFWX1RPR0dMRV9DTEFTUyk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgLy8gR2V0IGFsbCBcIm5hdmJhci1idXJnZXJcIiBlbGVtZW50c1xuICAgIGNvbnN0ICRuYXZiYXJCdXJnZXIgPSB0aGlzLmZpbmROYXZCYXJFbGVtZW50cygpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSBuYXZiYXIgYnVyZ2Vyc1xuICAgIC8vIGlmICgkbmF2YmFyQnVyZ2Vycy5sZW5ndGggPiAwKSB7XG4gICAgLy8gQWRkIGEgY2xpY2sgZXZlbnQgb24gZWFjaCBvZiB0aGVtXG4gICAgJG5hdmJhckJ1cmdlcj8uZm9yRWFjaCh0aGlzLmhhbmRsZXJOYXZCYXJDbGljayk7XG4gICAgLy8gfVxuICB9XG59XG4iLCJpbXBvcnQgeyBUb0RvU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RvLWRvLnNlcnZpY2UnO1xuaW1wb3J0IHsgUmVuZGVyZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvcmVuZGVyZWQtY29tcG9uZW50JztcbmltcG9ydCB7IENvbXBvbmVudE9wdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvb3B0aW9ucy9jb21wb25lbnQtb3B0aW9uJztcbmltcG9ydCB7IFBvc3QgfSBmcm9tICcuLi8uLi9tb2RlbHMvcG9zdCc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFRvRG9DYXJkQ29tcG9uZW50XG4gIGV4dGVuZHMgQmFzZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIFJlbmRlcmVkQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBwb3N0czogQXJyYXk8UG9zdD4gPSBbXTtcbiAgY29uc3RydWN0b3IoXG4gICAgb3B0aW9uczogQ29tcG9uZW50T3B0aW9uLFxuICAgIHByaXZhdGUgdG9Eb1NlcnZpY2U6IFRvRG9TZXJ2aWNlID0gbmV3IFRvRG9TZXJ2aWNlKClcbiAgKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIHRlbXBsYXRlKCk6IHN0cmluZyB7XG4gICAgbGV0IHRlbXBsYXRlOiBzdHJpbmcgPSAnJztcbiAgICB0aGlzLnBvc3RzLmZvckVhY2goKHBvc3Q6IFBvc3QpID0+IHtcbiAgICAgIHRlbXBsYXRlICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbiBpcy0xMlwiPlxuICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgICAgICA8ZGl2ICBjbGFzcz1cImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWlkPVwiJHtwb3N0LmlkfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGl0bGU9XCIke3Bvc3QudGl0bGV9XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wb3N0PScke0pTT04uc3RyaW5naWZ5KHBvc3QpfSc+XG4gICAgICAgICAgICAgICAgJHtwb3N0LnRpdGxlfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGZvb3RlciBjbGFzcz1cImNhcmQtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJkLWZvb3Rlci1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBpcy1kYW5nZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuLWRlbGV0ZS10b2RvXCI+XG4gICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9KTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBwcml2YXRlIGdldFRvRG9UaXRsZSgkZWxlbWVudDogSFRNTERpdkVsZW1lbnQpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgcmV0dXJuICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KCcuY29udGVudCcpIHx8ICRlbGVtZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyVGl0bGVDbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgJHRhcmdldCA9IDxIVE1MRGl2RWxlbWVudD5lLnRhcmdldDtcbiAgICBjb25zdCAkdGl0bGUgPSB0aGlzLmdldFRvRG9UaXRsZSgkdGFyZ2V0KTtcbiAgICBpZiAoJHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtY29udGVudCcpKSB7XG4gICAgICBpZiAoJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ3B4LTQnLCAncHktNCcpO1xuICAgICAgICAkdGl0bGUuY29udGVudEVkaXRhYmxlID0gJ2ZhbHNlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICR0aXRsZS5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSc7XG4gICAgJHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3B4LTQnLCAncHktNCcpO1xuICAgICR0aXRsZS5mb2N1cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyVGl0bGVCbHVyKGU6IEZvY3VzRXZlbnQpIHtcbiAgICBjb25zdCAkdGl0bGUgPSA8SFRNTERpdkVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgY29uc3QgJHRvZG9DYXJkID0gJHRpdGxlLmNsb3Nlc3QoJy5jYXJkLWNvbnRlbnQnKTtcblxuICAgIGNvbnN0IHBvc3Q6IFBvc3QgPSBKU09OLnBhcnNlKDxzdHJpbmc+JHRpdGxlLmRhdGFzZXQucG9zdCk7XG4gICAgcG9zdC50aXRsZSA9ICR0aXRsZS5pbm5lclRleHQ7XG5cbiAgICAkdG9kb0NhcmQ/LmNsYXNzTGlzdC5hZGQoJ2hhcy1iYWNrZ3JvdW5kLXdhcm5pbmcnKTtcbiAgICAkdGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgncHgtNCcsICdweS00Jyk7XG4gICAgJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9ICdmYWxzZSc7XG4gICAgdGhpcy50b0RvU2VydmljZS51cGRhdGUocG9zdCkudGhlbigoKSA9PiB7XG4gICAgICAkdG9kb0NhcmQ/LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsXG4gICAgICAgIChlOiBhbnkpID0+IHRoaXMuaGFuZGxlclRpdGxlQ2xpY2soZSksXG4gICAgICAgIHtcbiAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgJHRvZG9DYXJkPy5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtYmFja2dyb3VuZC13YXJuaW5nJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZXJEZWxldGVUb0RvKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCAkdGFyZ2V0ID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgIGNvbnN0ICRidG4gPSAkdGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGNvbnN0ICR0b2RvID0gJHRhcmdldFxuICAgICAgLmNsb3Nlc3QoJ2FydGljbGUnKVxuICAgICAgPy5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignLmNvbnRlbnQnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBjb25zdCBwb3N0OiBQb3N0ID0gSlNPTi5wYXJzZSg8c3RyaW5nPiR0b2RvLmRhdGFzZXQucG9zdCk7XG4gICAgJGJ0biEuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMudG9Eb1NlcnZpY2UuZGVzdHJveShwb3N0KS50aGVuKCgpID0+IHtcbiAgICAgICR0b2RvLmNsb3Nlc3QoJ2Rpdi5jb2x1bW4nKT8ucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZXJUb0RvQ2FyZEFjdGlvbnMoJHRvZG9DYXJkczogTm9kZUxpc3RPZjxIVE1MRGl2RWxlbWVudD4pOiB2b2lkIHtcbiAgICAkdG9kb0NhcmRzLmZvckVhY2goKCR0b2RvQ2FyZDogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0ICR0aXRsZSA9IHRoaXMuZ2V0VG9Eb1RpdGxlKCR0b2RvQ2FyZCk7XG4gICAgICBjb25zdCAkYnRuRGVsZXRlID0gJHRvZG9DYXJkXG4gICAgICAgIC5jbG9zZXN0KCcuY2FyZCcpXG4gICAgICAgID8ucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJ2J1dHRvbicpO1xuXG4gICAgICAkdG9kb0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5oYW5kbGVyVGl0bGVDbGljayhlKSwge1xuICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICAkdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB0aGlzLmhhbmRsZXJUaXRsZUJsdXIoZSkpO1xuICAgICAgJGJ0bkRlbGV0ZSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5oYW5kbGVyRGVsZXRlVG9EbyhlKSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IHZvaWQge1xuICAgIGNvbnN0ICR0b2RvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXG4gICAgICB0aGlzLnNlbGVjdG9yXG4gICAgKTtcblxuICAgIGlmICghJHRvZG9Db250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRvRG9TZXJ2aWNlLmdldEFsbCgpLnRoZW4oKHBvc3RzOiBBcnJheTxQb3N0PikgPT4ge1xuICAgICAgdGhpcy5wb3N0cyA9IHBvc3RzO1xuICAgICAgc3VwZXIucmVuZGVyKHsgZGF0YTogdGhpcy50ZW1wbGF0ZSgpIH0pO1xuICAgICAgY29uc3QgJHRvZG9DYXJkcyA9ICR0b2RvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTERpdkVsZW1lbnQ+KFxuICAgICAgICAnLmNhcmQtY29udGVudCdcbiAgICAgICk7XG4gICAgICB0aGlzLmhhbmRsZXJUb0RvQ2FyZEFjdGlvbnMoJHRvZG9DYXJkcyk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBIdHRwQ2xpZW50IHtcbiAgZ2V0KHVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gSHR0cENsaWVudC5jb25maWd1cmVSZXF1ZXN0KHVybCwgJ0dFVCcpO1xuICB9XG5cbiAgZGVzdHJveSh1cmw6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIEh0dHBDbGllbnQuY29uZmlndXJlUmVxdWVzdCh1cmwsICdERUxFVEUnKTtcbiAgfVxuXG4gIHBvc3QodXJsOiBzdHJpbmcsIGJvZHk6IG9iamVjdCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIEh0dHBDbGllbnQuY29uZmlndXJlUmVxdWVzdCh1cmwsICdQT1NUJywgYm9keSk7XG4gIH1cblxuICB1cGRhdGUodXJsOiBzdHJpbmcsIGJvZHk6IG9iamVjdCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIEh0dHBDbGllbnQuY29uZmlndXJlUmVxdWVzdCh1cmwsICdQVVQnLCBib2R5KTtcbiAgfVxuXG4gIHN0YXRpYyBjb25maWd1cmVSZXF1ZXN0KFxuICAgIHVybDogc3RyaW5nLFxuICAgIG1ldGhvZDogc3RyaW5nLFxuICAgIGJvZHk/OiBvYmplY3RcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2QsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICB9LFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEFwaUNvbmZpZyB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQkFTRV9VUkw6IHN0cmluZyA9XG4gICAgJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbSc7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnRPcHRpb24gfSBmcm9tICcuLi8uLi9jb3JlL29wdGlvbnMvY29tcG9uZW50LW9wdGlvbic7XG5pbXBvcnQgeyBUb0RvU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RvLWRvLnNlcnZpY2UnO1xuaW1wb3J0IHsgUmVuZGVyZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvcmVuZGVyZWQtY29tcG9uZW50JztcbmltcG9ydCB7IFBvc3QgfSBmcm9tICcuLi8uLi9tb2RlbHMvcG9zdCc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIENyZWF0ZVRvRG9Db21wb25lbnRcbiAgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG4gIGltcGxlbWVudHMgUmVuZGVyZWRDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBDb21wb25lbnRPcHRpb24sXG4gICAgcHJpdmF0ZSB0b0RvU2VydmljZTogVG9Eb1NlcnZpY2UgPSBuZXcgVG9Eb1NlcnZpY2UoKVxuICApIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHByaXZhdGUgdGVtcGxhdGUocG9zdDogUG9zdCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBcbiAgICA8YXJ0aWNsZSBjbGFzcz1cImNhcmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiAgY2xhc3M9XCJjb250ZW50XCJcbiAgICAgICAgICAgICAgZGF0YS1pZD1cIiR7cG9zdC5pZH1cIlxuICAgICAgICAgICAgICBkYXRhLXRpdGxlPVwiJHtwb3N0LnRpdGxlfVwiXG4gICAgICAgICAgICAgIGRhdGEtcG9zdD0nJHtKU09OLnN0cmluZ2lmeShwb3N0KX0nPlxuICAgICAgICAgICR7cG9zdC50aXRsZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxmb290ZXIgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2FyZC1mb290ZXItaXRlbVwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L2k+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0bi1kZWxldGUtdG9kb1wiPlxuICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9hPlxuICAgICAgPC9mb290ZXI+XG4gICAgPC9hcnRpY2xlPlxuYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VG9Eb1RpdGxlKCRlbGVtZW50OiBIVE1MRGl2RWxlbWVudCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICByZXR1cm4gJGVsZW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJy5jb250ZW50JykgfHwgJGVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZXJUaXRsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCAkdGFyZ2V0ID0gPEhUTUxEaXZFbGVtZW50PmUudGFyZ2V0O1xuICAgIGNvbnN0ICR0aXRsZSA9IHRoaXMuZ2V0VG9Eb1RpdGxlKCR0YXJnZXQpO1xuICAgIGlmICgkdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZC1jb250ZW50JykpIHtcbiAgICAgIGlmICgkdGl0bGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkdGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgncHgtNCcsICdweS00Jyk7XG4gICAgICAgICR0aXRsZS5jb250ZW50RWRpdGFibGUgPSAnZmFsc2UnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICgkdGl0bGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9ICd0cnVlJztcbiAgICAkdGl0bGUuY2xhc3NMaXN0LmFkZCgncHgtNCcsICdweS00Jyk7XG4gICAgJHRpdGxlLmZvY3VzKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZXJUaXRsZUJsdXIoZTogRm9jdXNFdmVudCkge1xuICAgIGNvbnN0ICR0aXRsZSA9IDxIVE1MRGl2RWxlbWVudD5lLnRhcmdldDtcbiAgICBjb25zdCAkdG9kb0NhcmQgPSAkdGl0bGUuY2xvc2VzdCgnLmNhcmQtY29udGVudCcpO1xuXG4gICAgY29uc3QgcG9zdDogUG9zdCA9IEpTT04ucGFyc2UoPHN0cmluZz4kdGl0bGUuZGF0YXNldC5wb3N0KTtcbiAgICBwb3N0LnRpdGxlID0gJHRpdGxlLmlubmVyVGV4dDtcblxuICAgICR0b2RvQ2FyZD8uY2xhc3NMaXN0LmFkZCgnaGFzLWJhY2tncm91bmQtd2FybmluZycpO1xuICAgICR0aXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdweC00JywgJ3B5LTQnKTtcbiAgICAkdGl0bGUuY29udGVudEVkaXRhYmxlID0gJ2ZhbHNlJztcbiAgICB0aGlzLnRvRG9TZXJ2aWNlLnVwZGF0ZShwb3N0KS50aGVuKCgpID0+IHtcbiAgICAgICR0b2RvQ2FyZD8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgKGU6IGFueSkgPT4gdGhpcy5oYW5kbGVyVGl0bGVDbGljayhlKSxcbiAgICAgICAge1xuICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICAkdG9kb0NhcmQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1iYWNrZ3JvdW5kLXdhcm5pbmcnKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlckRlbGV0ZVRvRG8oZTogTW91c2VFdmVudCkge1xuICAgIGNvbnN0ICR0YXJnZXQgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgY29uc3QgJGJ0biA9ICR0YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgY29uc3QgJHRvZG8gPSAkdGFyZ2V0XG4gICAgICAuY2xvc2VzdCgnYXJ0aWNsZScpXG4gICAgICA/LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KCcuY29udGVudCcpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGNvbnN0IHBvc3Q6IFBvc3QgPSBKU09OLnBhcnNlKDxzdHJpbmc+JHRvZG8uZGF0YXNldC5wb3N0KTtcbiAgICAkYnRuIS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy50b0RvU2VydmljZS5kZXN0cm95KHBvc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgJHRvZG8uY2xvc2VzdCgnZGl2LmNvbHVtbicpPy5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlckNyZWF0ZVRvRG8oZTogRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJGZvcm0gPSA8SFRNTEZvcm1FbGVtZW50PmUudGFyZ2V0O1xuICAgIGNvbnN0ICRidXR0b24gPSAkZm9ybS5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignYnV0dG9uJyk7XG4gICAgY29uc3QgJGlucFRpdGxlID0gJGZvcm0ucXVlcnlTZWxlY3RvcjxIVE1MVGV4dEFyZWFFbGVtZW50PigndGV4dGFyZWEnKTtcblxuICAgICRpbnBUaXRsZT8uY2xvc2VzdCgnLmNvbnRyb2wnKT8uY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuICAgICRidXR0b24/LmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcbiAgICAkYnV0dG9uIS5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICBjb25zdCBwb3N0OiBQb3N0ID0gbmV3IFBvc3QoJGlucFRpdGxlIS52YWx1ZSk7XG4gICAgdGhpcy50b0RvU2VydmljZS5jcmVhdGUocG9zdCkudGhlbigoZGF0YTogUG9zdCkgPT4ge1xuICAgICAgLy8gcG9zdC5pZCA9IGRhdGEuaWQ7XG4gICAgICBwb3N0LmlkID0gMjAwO1xuXG4gICAgICBjb25zdCAkbmV3UG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgJG5ld1Bvc3QuY2xhc3NMaXN0LmFkZCgnY29sdW1uJywgJ2lzLTEyJyk7XG4gICAgICAkbmV3UG9zdC5pbm5lckhUTUwgPSB0aGlzLnRlbXBsYXRlKHBvc3QpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvLWRvLWNvbnRhaW5lcicpPy5wcmVwZW5kKCRuZXdQb3N0KTtcblxuICAgICAgY29uc3QgJHRvZG9DYXJkID0gJG5ld1Bvc3QucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJy5jYXJkJyk7XG4gICAgICBpZiAoJHRvZG9DYXJkKSB7XG4gICAgICAgIGNvbnN0ICR0aXRsZSA9IHRoaXMuZ2V0VG9Eb1RpdGxlKCR0b2RvQ2FyZCk7XG4gICAgICAgIGNvbnN0ICRidG5EZWxldGUgPSAkdG9kb0NhcmRcbiAgICAgICAgICAuY2xvc2VzdCgnLmNhcmQnKVxuICAgICAgICAgID8ucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJ2J1dHRvbicpO1xuICAgICAgICAkdG9kb0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5oYW5kbGVyVGl0bGVDbGljayhlKSwge1xuICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICAkdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB0aGlzLmhhbmRsZXJUaXRsZUJsdXIoZSkpO1xuICAgICAgICAkYnRuRGVsZXRlIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB0aGlzLmhhbmRsZXJEZWxldGVUb0RvKGUpKTtcbiAgICAgIH1cblxuICAgICAgJGlucFRpdGxlPy5jbG9zZXN0KCcuY29udHJvbCcpPy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG4gICAgICAkYnV0dG9uPy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG4gICAgICAkYnV0dG9uIS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgJGlucFRpdGxlIS52YWx1ZSA9ICcnO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCAkZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEZvcm1FbGVtZW50Pih0aGlzLnNlbGVjdG9yKTtcblxuICAgICRmb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZTogRXZlbnQpID0+IHRoaXMuaGFuZGxlckNyZWF0ZVRvRG8oZSkpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9zdCB7XG4gIHVzZXJJZDogbnVtYmVyID0gMDtcbiAgaWQ/OiBudW1iZXIgPSAwO1xuICB0aXRsZTogc3RyaW5nID0gJyc7XG4gIGJvZHk6IHN0cmluZyA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKHRpdGxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudE9wdGlvbiB9IGZyb20gJy4uL2NvcmUvb3B0aW9ucy9jb21wb25lbnQtb3B0aW9uJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9jb3JlL2NvbXBvbmVudHMvYmFzZS1jb21wb25lbnQnO1xuaW1wb3J0IHsgUmVuZGVyZWRDb21wb25lbnQgfSBmcm9tICcuLi9jb3JlL2NvbXBvbmVudHMvcmVuZGVyZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFVwbG9hZENvbXBvbmVudFxuICBleHRlbmRzIEJhc2VDb21wb25lbnRcbiAgaW1wbGVtZW50cyBSZW5kZXJlZENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IENvbXBvbmVudE9wdGlvbikge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyVXBsb2FkSW5wdXROYW1lKCRmb3JtOiBFbGVtZW50KSB7XG4gICAgY29uc3QgJGZpbGUgPSA8SFRNTElucHV0RWxlbWVudD4kZm9ybT8ucXVlcnlTZWxlY3RvcignI2ZpbGUnKTtcbiAgICAkZmlsZT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGU6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9ICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuZmlsZXM7IC8vICRmaWxlcy5maWxlc1xuICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgJGZpbGVuYW1lID0gJGZvcm0/LnF1ZXJ5U2VsZWN0b3IoJy5maWxlLW5hbWUnKTtcbiAgICAgICAgaWYgKCRmaWxlbmFtZSkge1xuICAgICAgICAgICRmaWxlbmFtZS50ZXh0Q29udGVudCA9IGZpbGVzWzBdLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlclVwbG9hZChlOiBFdmVudCk6IGJvb2xlYW4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0YXJnZXQ6IEhUTUxGb3JtRWxlbWVudCA9IDxIVE1MRm9ybUVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgY29uc3QgYm9keSA9IG5ldyBGb3JtRGF0YSh0YXJnZXQpO1xuICAgIC8vIGNvbnN0IGZpbGUgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+JGZvcm0ucXVlcnlTZWxlY3RvcignI2ZpbGUnKSkuZmlsZXM7XG4gICAgLy8gY29uc29sZS5sb2coZmlsZSk7XG4gICAgLy8gaWYgKGZpbGUpIHtcbiAgICAvLyAgIGJvZHkuYXBwZW5kKCdmaWxlJywgZmlsZVswXSk7XG4gICAgLy8gfVxuXG4gICAgLy8gVE9ETzogVGhpcyBjYW4gYmUgYSBzZXJ2aWNlXG4gICAgZmV0Y2godGFyZ2V0LmFjdGlvbiwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAudGhlbigoZGF0YTogc3RyaW5nKSA9PiBhbGVydChkYXRhKSlcbiAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT5cbiAgICAgICAgY29uc29sZS5lcnJvcignW1VwbG9hZCBmZXRjaCBlcnJvcl06JywgZXJyLm1lc3NhZ2UpXG4gICAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgJGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpO1xuICAgICRmb3JtICYmIHRoaXMuaGFuZGxlclVwbG9hZElucHV0TmFtZSgkZm9ybSk7XG4gICAgJGZvcm0/LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuaGFuZGxlclVwbG9hZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudE9wdGlvbiB9IGZyb20gJy4uL2NvcmUvb3B0aW9ucy9jb21wb25lbnQtb3B0aW9uJztcbmltcG9ydCB7IFByYWN0aWNlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3ByYWN0aWNlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvcmUvY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBSZW5kZXJlZENvbXBvbmVudCB9IGZyb20gJy4uL2NvcmUvY29tcG9uZW50cy9yZW5kZXJlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgUHJhY3RpY2VDb21wb25lbnRcbiAgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG4gIGltcGxlbWVudHMgUmVuZGVyZWRDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBDb21wb25lbnRPcHRpb24sXG4gICAgcHJpdmF0ZSBwcmFjdGljZVNlcnZpY2U6IFByYWN0aWNlU2VydmljZSA9IG5ldyBQcmFjdGljZVNlcnZpY2UoKVxuICApIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCAkcHJhY3RpY2U6IEhUTUxGb3JtRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5zZWxlY3RvclxuICAgICk7XG4gICAgaWYgKCRwcmFjdGljZSkge1xuICAgICAgdGhpcy5wcmFjdGljZVNlcnZpY2UuZmlyc3RGZXRjaCgpO1xuICAgICAgdGhpcy5wcmFjdGljZVNlcnZpY2UuZmlyc3RGZXRjaFdpdGhBc3luY0F3YWl0KCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5oYW5kbGVFcnJvcigpO1xuICAgICAgdGhpcy5wcmFjdGljZVNlcnZpY2UucXVlcnlQYXJhbXMoKTtcbiAgICAgIHRoaXMucHJhY3RpY2VTZXJ2aWNlLmh0dHBNZXRob2RQb3N0KCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5odHRwTWV0aG9kR2V0KCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5odHRwTWV0aG9kUHV0KCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5odHRwSGVhZGVycygpO1xuICAgICAgdGhpcy5wcmFjdGljZVNlcnZpY2UuaHR0cENvb2tpZXMoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvc3QgfSBmcm9tICcuLi9tb2RlbHMvcG9zdCc7XG5cbmV4cG9ydCBjbGFzcyBQcmFjdGljZVNlcnZpY2Uge1xuICBwdWJsaWMgZmlyc3RGZXRjaCgpIHtcbiAgICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJylcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2codHlwZW9mIHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pIC8vIHJlc3BvbnNlOiBVaW50OEFycmF5XG4gICAgICAudGhlbigocG9zdHM6IEFycmF5PFBvc3Q+KSA9PiBjb25zb2xlLmxvZyhwb3N0cykpO1xuICB9XG5cbiAgcHVibGljIGZpcnN0RmV0Y2hXaXRoQXN5bmNBd2FpdCgpIHtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnXG4gICAgICApO1xuICAgICAgY29uc3QgYm9keTogQXJyYXk8UG9zdD4gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZyhib2R5KTtcbiAgICB9KSgpO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUVycm9yKCkge1xuICAgIC8vIEhhbmRsZSBlcnJvclxuICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zJylcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFN0YXR1cyBjb2RlOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGluIHRoZSBmZXRjaCByZXF1ZXN0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pIC8vIHJlc3BvbnNlOiBVaW50OEFycmF5XG4gICAgICAudGhlbigocG9zdHM6IEFycmF5PFBvc3Q+KSA9PiBjb25zb2xlLmxvZyhwb3N0cykpXG4gICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ1tGZXRjaCBlcnJvcl06JywgZXJyLm1lc3NhZ2UpKTtcbiAgfVxuXG4gIHB1YmxpYyBxdWVyeVBhcmFtcygpIHtcbiAgICAvLyBRdWVyeSBwYXJhbXNcbiAgICAvLyBSZWFkIG1vcmUgb246IGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNmZXRjaC1hcGlcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgIHVzZXJJZDogMSxcbiAgICAgIF9saW1pdDogMyxcbiAgICB9O1xuICAgIGNvbnN0IHVybDogVVJMID0gbmV3IFVSTCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJyk7XG4gICAgT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpLmZvckVhY2goKHBhcmFtS2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKHBhcmFtS2V5LCBxdWVyeVBhcmFtc1twYXJhbUtleV0pO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKHVybCk7XG4gICAgZmV0Y2godXJsLmhyZWYpXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpIC8vIHJlc3BvbnNlOiBVaW50OEFycmF5XG4gICAgICAudGhlbigocG9zdHM6IEFycmF5PFBvc3Q+KSA9PiBjb25zb2xlLmxvZyhwb3N0cykpO1xuICB9XG5cbiAgcHVibGljIGh0dHBNZXRob2RQb3N0KCkge1xuICAgIC8vIEhUVFAgLSBNZXRob2RzXG4gICAgLy8gUmVhZCBtb3JlIG9uOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lcy9kb2NzL1dlYi9IVFRQL01ldGhvZHNcblxuICAgIC8vIFBPU1RcbiAgICBjb25zdCBwb3N0OiBQb3N0ID0ge1xuICAgICAgdXNlcklkOiAxLFxuICAgICAgdGl0bGU6ICdmb28nLFxuICAgICAgYm9keTogJ2JhcicsXG4gICAgfTtcbiAgICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwb3N0KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpIC8vIHJlc3BvbnNlOiBVaW50OEFycmF5XG4gICAgICAudGhlbigocG9zdDogUG9zdCkgPT4gY29uc29sZS5sb2cocG9zdCkpO1xuICB9XG5cbiAgcHVibGljIGh0dHBNZXRob2RHZXQoKSB7XG4gICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvJywgeyBtZXRob2Q6ICdHRVQnIH0pXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbigoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpXG4gICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ1tDb3JzIGZldGNoIGVycm9yXTonLCBlcnIubWVzc2FnZSkpO1xuICB9XG5cbiAgcHVibGljIGh0dHBNZXRob2RQdXQoKSB7XG4gICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvJywgeyBtZXRob2Q6ICdQVVQnIH0pXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbigoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpXG4gICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ1tDb3JzIGZldGNoIGVycm9yXTonLCBlcnIubWVzc2FnZSkpO1xuICB9XG5cbiAgcHVibGljIGh0dHBIZWFkZXJzKCkge1xuICAgIC8vIEhlYWRlcnNcbiAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS8nLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgQXV0aGVudGljYXRpb246ICdCZWFyZXI6IHh4eHh4eHh5eXl5eHh4eHl5eScsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbigoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpXG4gICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ1tDb3JzIGZldGNoIGVycm9yXTonLCBlcnIubWVzc2FnZSkpO1xuICB9XG5cbiAgcHVibGljIGh0dHBDb29raWVzKCkge1xuICAgIC8vIENvb2tpZXNcbiAgICBkb2N1bWVudC5jb29raWUgPSAndXNlcm5hbWU9U2FtdWVsJztcbiAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS8nLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgQXV0aGVudGljYXRpb246ICdCZWFyZXI6IHh4eHh4eHh5eXl5eHh4eHl5eScsXG4gICAgICB9LFxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgIC8qKlxuICAgICAgICogb21pdDogTmV2ZXIgc2VuZCBvciByZWNlaXZlIGNvb2tpZXMuXG4gICAgICAgKiBzYW1lLW9yaWdpbjogU2VuZCB1c2VyIGNyZWRlbnRpYWxzIChjb29raWVzLCBiYXNpYyBodHRwIGF1dGgsIGV0Yy4uKSBpZiB0aGUgVVJMIGlzIG9uIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY2FsbGluZyBzY3JpcHQuIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgKiBpbmNsdWRlOiBBbHdheXMgc2VuZCB1c2VyIGNyZWRlbnRpYWxzIChjb29raWVzLCBiYXNpYyBodHRwIGF1dGgsIGV0Yy4uKSwgZXZlbiBmb3IgY3Jvc3Mtb3JpZ2luIGNhbGxzLlxuICAgICAgICovXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4gY29uc29sZS5lcnJvcignW0NvcnMgZmV0Y2ggZXJyb3JdOicsIGVyci5tZXNzYWdlKSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=