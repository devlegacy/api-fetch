!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseComponent=void 0;var o=function(){function t(t){this.selector=t.selector}return t.prototype.render=function(t){this.selector&&(document.querySelector(this.selector).innerHTML=null==t?void 0:t.data)},t}();e.BaseComponent=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToDoCardComponent=void 0;var c=n(2),i=function(t){function e(e,n){void 0===n&&(n=new c.ToDoService);var o=t.call(this,e)||this;return o.toDoService=n,o.posts=[],o}return r(e,t),e.prototype.template=function(){var t="";return this.posts.forEach((function(e){t+='\n        <div class="column is-12">\n          <article class="card">\n            <div class="card-content">\n              <div  class="content"\n                    data-id="'+e.id+'"\n                    data-title="'+e.title+"\"\n                    data-post='"+JSON.stringify(e)+"'>\n                "+e.title+'\n              </div>\n            </div>\n            <footer class="card-footer">\n              <a href="#" class="card-footer-item">\n                <button class="button is-danger">\n                  <span class="icon is-small">\n                    <i class="fas fa-trash"></i>\n                  </span>\n                  <span class="btn-delete-todo">\n                    Delete\n                  </span>\n                </button>\n              </a>\n            </footer>\n          </article>\n        </div>\n      '})),t},e.prototype.getToDoTitle=function(t){return t.querySelector(".content")||t},e.prototype.handlerTitleClick=function(t){var e=t.target,n=this.getToDoTitle(e);if(e.classList.contains("card-content")&&"true"===n.contentEditable)return t.preventDefault(),n.classList.remove("px-4","py-4"),void(n.contentEditable="false");"true"!==n.contentEditable&&(n.contentEditable="true",n.classList.add("px-4","py-4"),n.focus())},e.prototype.handlerTitleBlur=function(t){var e=this,n=t.target,o=n.closest(".card-content"),r=JSON.parse(n.dataset.post);r.title=n.innerText,null==o||o.classList.add("has-background-warning"),n.classList.remove("px-4","py-4"),n.contentEditable="false",this.toDoService.update(r).then((function(){null==o||o.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),null==o||o.classList.remove("has-background-warning")}))},e.prototype.handlerToDoCardActions=function(t){var e=this;t.forEach((function(t){var n,o=e.getToDoTitle(t),r=null===(n=t.closest(".card"))||void 0===n?void 0:n.querySelector("button");t.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),o.addEventListener("blur",(function(t){return e.handlerTitleBlur(t)})),r.addEventListener("click",(function(t){return e.deleteToDo(t)}))}))},e.prototype.render=function(){var e=this,n=document.querySelector(this.selector);n&&this.toDoService.getAll().then((function(o){e.posts=o,t.prototype.render.call(e,{data:e.template()});var r=n.querySelectorAll(".card-content");e.handlerToDoCardActions(r)}))},e.prototype.deleteToDo=function(t){var e,n=t.target,o=n.closest("button"),r=null===(e=n.closest("article"))||void 0===e?void 0:e.querySelector(".content"),c=JSON.parse(r.dataset.post);o.disabled=!0,this.toDoService.destroy(c).then((function(){var t;null===(t=r.closest("div.column"))||void 0===t||t.remove()}))},e}(n(0).BaseComponent);e.ToDoCardComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToDoService=void 0;var o=n(5),r=n(6),c=function(){function t(){this.serviceURL=r.ApiConfig.BASE_URL+"/todos/",this.http=new o.HttpClient}return t.prototype.getAll=function(t){return void 0===t&&(t=20),this.http.get(this.serviceURL+"?_limit="+t)},t.prototype.find=function(){},t.prototype.create=function(t){return this.http.post(""+this.serviceURL,t)},t.prototype.update=function(t){return this.http.update(""+this.serviceURL+t.id,t)},t.prototype.destroy=function(t){return this.http.destroy(""+this.serviceURL+t.id)},t}();e.ToDoService=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(1),c=n(7),i=n(9),s=n(10);(new(function(){function t(){}return t.prototype.start=function(){document.addEventListener("DOMContentLoaded",(function(){console.log(">> Start app"),new o.NavBarComponent({selector:".navbar-burger"}).render(),new s.PracticeComponent({selector:"#practices"}).render(),new i.UploadComponent({selector:"#frm-upload"}).render(),new r.ToDoCardComponent({selector:"#to-do-container"}).render(),new c.CreateToDoComponent({selector:"#frm-create-post"}).render()}))},t}())).start()},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NavBarComponent=void 0;var c=n(0),i=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.findNavBarElements=function(){return Array.prototype.slice.call(document.querySelectorAll(this.selector),0)},e.prototype.handlerNavBarClick=function(t){t.addEventListener("click",(function(){var e=t.dataset.target||"navMenu",n=document.getElementById(e);t.classList.toggle("is-active"),null==n||n.classList.toggle("is-active")}))},e.prototype.render=function(){var t=this.findNavBarElements();null==t||t.forEach(this.handlerNavBarClick)},e}(c.BaseComponent);e.NavBarComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpClient=void 0;var o=function(){function t(){}return t.prototype.get=function(e){return t.configureRequest(e,"GET")},t.prototype.destroy=function(e){return t.configureRequest(e,"DELETE")},t.prototype.post=function(e,n){return void 0===n&&(n=null),t.configureRequest(e,"POST",n)},t.prototype.update=function(e,n){return void 0===n&&(n=null),t.configureRequest(e,"PUT",n)},t.configureRequest=function(t,e,n){return void 0===n&&(n=null),fetch(t,{method:e,headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"}}).then((function(t){return t.json()}))},t}();e.HttpClient=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiConfig=void 0;var o=function(){function t(){}return t.BASE_URL="https://jsonplaceholder.typicode.com",t}();e.ApiConfig=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateToDoComponent=void 0;var o=n(2),r=n(8),c=function(){function t(t,e){void 0===e&&(e=new o.ToDoService),this.options=t,this.toDoService=e}return t.prototype.render=function(){var t=this,e=document.querySelector(this.options.selector);e&&e.addEventListener("submit",(function(n){var o;n.preventDefault();var c=e.querySelector("button"),i=e.querySelector("textarea");null===(o=i.closest(".control"))||void 0===o||o.classList.add("is-loading"),c.disabled=!0;var s=new r.Post(i.value);return t.toDoService.create(s).then((function(t){var e;s.id=t.id;var n='\n          <article class="card">\n            <div class="card-content">\n              <div  class="content"\n                    data-id="'+s.id+'"\n                    data-title="'+s.title+"\"\n                    data-post='"+JSON.stringify(s)+"'>\n                "+s.title+'\n              </div>\n            </div>\n            <footer class="card-footer">\n              <a href="#" class="card-footer-item">\n                <button class="button is-danger">\n                  <span class="icon is-small">\n                    <i class="fas fa-trash"></i>\n                  </span>\n                  <span class="btn-delete-todo">\n                    Delete\n                  </span>\n                </button>\n              </a>\n            </footer>\n          </article>\n      ',o=document.createElement("div");o.classList.add("column","is-12"),o.innerHTML=n,null===(e=document.querySelector("#to-do-container"))||void 0===e||e.prepend(o)})),!1}))},t}();e.CreateToDoComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Post=void 0;var o=function(t){this.userId=0,this.id=0,this.title="",this.body="",this.title=t};e.Post=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadComponent=void 0;var c=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.handlerUploadInputName=function(t){var e=null==t?void 0:t.querySelector("#file");null==e||e.addEventListener("change",(function(e){var n=e.target.files;if(n&&n.length>0){var o=null==t?void 0:t.querySelector(".file-name");o&&(o.textContent=n[0].name)}}))},e.prototype.handlerUpload=function(t){t.preventDefault();var e=t.target,n=new FormData(e);return fetch(e.action,{method:"POST",body:n}).then((function(t){return t.text()})).then((function(t){return alert(t)})).catch((function(t){return console.error("[Upload fetch error]:",t.message)})),!1},e.prototype.render=function(){var t=document.querySelector(this.selector);t&&this.handlerUploadInputName(t),null==t||t.addEventListener("submit",this.handlerUpload)},e}(n(0).BaseComponent);e.UploadComponent=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PracticeComponent=void 0;var c=n(11),i=function(t){function e(e,n){void 0===n&&(n=new c.PracticeService);var o=t.call(this,e)||this;return o.practiceService=n,o}return r(e,t),e.prototype.render=function(){document.querySelector(this.selector)&&(this.practiceService.firstFetch(),this.practiceService.firstFetchWithAsyncAwait(),this.practiceService.handleError(),this.practiceService.queryParams(),this.practiceService.httpMethodPost(),this.practiceService.httpMethodGet(),this.practiceService.httpMethodPut(),this.practiceService.httpHeaders(),this.practiceService.httpCookies())},e}(n(0).BaseComponent);e.PracticeComponent=i},function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,c){function i(t){try{a(o.next(t))}catch(t){c(t)}}function s(t){try{a(o.throw(t))}catch(t){c(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}a((o=o.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,o,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PracticeService=void 0;var c=function(){function t(){}return t.prototype.firstFetch=function(){fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return console.log(typeof t),t.json()})).then((function(t){return console.log(t)}))},t.prototype.firstFetchWithAsyncAwait=function(){o(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,fetch("https://jsonplaceholder.typicode.com/posts")];case 1:return[4,e.sent().json()];case 2:return t=e.sent(),console.log(t),[2]}}))}))},t.prototype.handleError=function(){fetch("https://jsonplaceholder.typicode.com/pos").then((function(t){if(console.log("Status code: "+t.status),t.status>=200&&t.status<300)return t.json();throw new Error("Error in the fetch request")})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Fetch error]:",t.message)}))},t.prototype.queryParams=function(){var t={userId:1,_limit:3},e=new URL("https://jsonplaceholder.typicode.com/posts");Object.keys(t).forEach((function(n){e.searchParams.append(n,t[n])})),console.log(e),fetch(e.href).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},t.prototype.httpMethodPost=function(){fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({userId:1,title:"foo",body:"bar"}),headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},t.prototype.httpMethodGet=function(){fetch("http://localhost:8000/api/",{method:"GET"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpMethodPut=function(){fetch("http://localhost:8000/api/",{method:"PUT"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpHeaders=function(){fetch("http://localhost:8000/api/",{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8",Authentication:"Bearer: xxxxxxxyyyyxxxxyyy"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpCookies=function(){document.cookie="username=Samuel",fetch("http://localhost:8000/api/",{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json; charset=UTF-8",Authentication:"Bearer: xxxxxxxyyyyxxxxyyy"},credentials:"include"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t}();e.PracticeService=c}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90b2RvL3RvLWRvLWNhcmQuY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy90by1kby5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vbmF2LWJhci5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2h0dHAtY2xpZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvYXBpLWNvbmZpZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90b2RvL2NyZWF0ZS10by1kby5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9wb3N0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VwbG9hZC5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcHJhY3RpY2UuY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9wcmFjdGljZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwib3B0aW9ucyIsInRoaXMiLCJzZWxlY3RvciIsInJlbmRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsImRhdGEiLCJCYXNlQ29tcG9uZW50IiwidG9Eb1NlcnZpY2UiLCJUb0RvU2VydmljZSIsInBvc3RzIiwidGVtcGxhdGUiLCJmb3JFYWNoIiwicG9zdCIsImlkIiwidGl0bGUiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0VG9Eb1RpdGxlIiwiJGVsZW1lbnQiLCJoYW5kbGVyVGl0bGVDbGljayIsImUiLCIkdGFyZ2V0IiwidGFyZ2V0IiwiJHRpdGxlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjb250ZW50RWRpdGFibGUiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZSIsImFkZCIsImZvY3VzIiwiaGFuZGxlclRpdGxlQmx1ciIsIiR0b2RvQ2FyZCIsImNsb3Nlc3QiLCJwYXJzZSIsImRhdGFzZXQiLCJpbm5lclRleHQiLCJ1cGRhdGUiLCJ0aGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJoYW5kbGVyVG9Eb0NhcmRBY3Rpb25zIiwiJHRvZG9DYXJkcyIsIiRidG5EZWxldGUiLCJkZWxldGVUb0RvIiwiJHRvZG9Db250YWluZXIiLCJnZXRBbGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiJGJ0biIsIiR0b2RvIiwiZGlzYWJsZWQiLCJkZXN0cm95IiwiVG9Eb0NhcmRDb21wb25lbnQiLCJzZXJ2aWNlVVJMIiwiQXBpQ29uZmlnIiwiQkFTRV9VUkwiLCJodHRwIiwiSHR0cENsaWVudCIsImxpbWl0IiwiZmluZCIsInN0YXJ0IiwiY29uc29sZSIsImxvZyIsIk5hdkJhckNvbXBvbmVudCIsIlByYWN0aWNlQ29tcG9uZW50IiwiVXBsb2FkQ29tcG9uZW50IiwiQ3JlYXRlVG9Eb0NvbXBvbmVudCIsImZpbmROYXZCYXJFbGVtZW50cyIsIkFycmF5Iiwic2xpY2UiLCJoYW5kbGVyTmF2QmFyQ2xpY2siLCIkbmF2IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b2dnbGUiLCIkbmF2YmFyQnVyZ2VyIiwidXJsIiwiY29uZmlndXJlUmVxdWVzdCIsImJvZHkiLCJtZXRob2QiLCJmZXRjaCIsImhlYWRlcnMiLCJBY2NlcHQiLCJyZXNwb25zZSIsImpzb24iLCIkZm9ybSIsIiRidXR0b24iLCJQb3N0IiwibmV3UG9zdCIsImNyZWF0ZUVsZW1lbnQiLCJwcmVwZW5kIiwidXNlcklkIiwiaGFuZGxlclVwbG9hZElucHV0TmFtZSIsIiRmaWxlIiwiZmlsZXMiLCJsZW5ndGgiLCIkZmlsZW5hbWUiLCJ0ZXh0Q29udGVudCIsImhhbmRsZXJVcGxvYWQiLCJGb3JtRGF0YSIsImFjdGlvbiIsInRleHQiLCJhbGVydCIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIiwicHJhY3RpY2VTZXJ2aWNlIiwiUHJhY3RpY2VTZXJ2aWNlIiwiZmlyc3RGZXRjaCIsImZpcnN0RmV0Y2hXaXRoQXN5bmNBd2FpdCIsImhhbmRsZUVycm9yIiwicXVlcnlQYXJhbXMiLCJodHRwTWV0aG9kUG9zdCIsImh0dHBNZXRob2RHZXQiLCJodHRwTWV0aG9kUHV0IiwiaHR0cEhlYWRlcnMiLCJodHRwQ29va2llcyIsInN0YXR1cyIsIkVycm9yIiwiX2xpbWl0IiwiVVJMIiwia2V5cyIsInBhcmFtS2V5Iiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiaHJlZiIsIkF1dGhlbnRpY2F0aW9uIiwiY29va2llIiwiY3JlZGVudGlhbHMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixH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LEdBQWUsT0FBQTFDLFFBQVEyQyxNQUFNLHNCQUF1QkQsRUFBSUUsYUFHN0QsWUFBQVUsWUFBUCxXQUVFcEMsTUFBTSw2QkFBOEIsQ0FDbENELE9BQVEsTUFDUkUsUUFBUyxDQUNQLGVBQWdCLGtDQUNoQkMsT0FBUSxrQ0FDUjZDLGVBQWdCLGdDQUdqQnhGLE1BQUssU0FBQzRDLEdBQXVCLE9BQUFBLEVBQVNDLFVBQ3RDN0MsTUFBSyxTQUFDakMsR0FBUyxPQUFBd0QsUUFBUUMsSUFBSXpELE1BQzNCaUcsT0FBTSxTQUFDQyxHQUFlLE9BQUExQyxRQUFRMkMsTUFBTSxzQkFBdUJELEVBQUlFLGFBRzdELFlBQUFXLFlBQVAsV0FFRWxILFNBQVM2SCxPQUFTLGtCQUNsQmhELE1BQU0sNkJBQThCLENBQ2xDRCxPQUFRLE1BQ1JFLFFBQVMsQ0FDUCxlQUFnQixrQ0FDaEJDLE9BQVEsa0NBQ1I2QyxlQUFnQiw4QkFFbEJFLFlBQWEsWUFPWjFGLE1BQUssU0FBQzRDLEdBQXVCLE9BQUFBLEVBQVNDLFVBQ3RDN0MsTUFBSyxTQUFDakMsR0FBUyxPQUFBd0QsUUFBUUMsSUFBSXpELE1BQzNCaUcsT0FBTSxTQUFDQyxHQUFlLE9BQUExQyxRQUFRMkMsTUFBTSxzQkFBdUJELEVBQUlFLGFBRXRFLEVBNUhBLEdBQWEsRUFBQUUiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vb3B0aW9ucy9jb21wb25lbnQtb3B0aW9uJztcblxuZXhwb3J0IGNsYXNzIEJhc2VDb21wb25lbnQge1xuICBwcm90ZWN0ZWQgc2VsZWN0b3I6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBDb21wb25lbnRPcHRpb24pIHtcbiAgICB0aGlzLnNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlcihvcHRpb25zOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rvcikge1xuICAgICAgY29uc3QgJGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKTtcbiAgICAgICRlbGVtZW50IS5pbm5lckhUTUwgPSBvcHRpb25zPy5kYXRhO1xuICAgICAgLy8gaWYgKCRlbGVtZW50KSB7XG4gICAgICAvLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9yZWxlYXNlLW5vdGVzL3R5cGVzY3JpcHQtMy03Lmh0bWwjb3B0aW9uYWwtY2hhaW5pbmdcbiAgICAgIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC0yLTAuaHRtbCNub24tbnVsbC1hc3NlcnRpb24tb3BlcmF0b3JcbiAgICAgIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC0zLTkuaHRtbCNwYXJzaW5nLWRpZmZlcmVuY2VzLWluLW9wdGlvbmFsLWNoYWluaW5nLWFuZC1ub24tbnVsbC1hc3NlcnRpb25zXG4gICAgICAvLyB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBUb0RvU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RvLWRvLnNlcnZpY2UnO1xuaW1wb3J0IHsgUmVuZGVyZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvcmVuZGVyZWQtY29tcG9uZW50JztcbmltcG9ydCB7IENvbXBvbmVudE9wdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvb3B0aW9ucy9jb21wb25lbnQtb3B0aW9uJztcbmltcG9ydCB7IFBvc3QgfSBmcm9tICcuLi8uLi9tb2RlbHMvcG9zdCc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFRvRG9DYXJkQ29tcG9uZW50XG4gIGV4dGVuZHMgQmFzZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIFJlbmRlcmVkQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBwb3N0czogQXJyYXk8UG9zdD4gPSBbXTtcbiAgY29uc3RydWN0b3IoXG4gICAgb3B0aW9uczogQ29tcG9uZW50T3B0aW9uLFxuICAgIHByaXZhdGUgdG9Eb1NlcnZpY2U6IFRvRG9TZXJ2aWNlID0gbmV3IFRvRG9TZXJ2aWNlKClcbiAgKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIHRlbXBsYXRlKCk6IHN0cmluZyB7XG4gICAgbGV0IHRlbXBsYXRlOiBzdHJpbmcgPSAnJztcbiAgICB0aGlzLnBvc3RzLmZvckVhY2goKHBvc3Q6IFBvc3QpID0+IHtcbiAgICAgIHRlbXBsYXRlICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbiBpcy0xMlwiPlxuICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgICAgICA8ZGl2ICBjbGFzcz1cImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWlkPVwiJHtwb3N0LmlkfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGl0bGU9XCIke3Bvc3QudGl0bGV9XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wb3N0PScke0pTT04uc3RyaW5naWZ5KHBvc3QpfSc+XG4gICAgICAgICAgICAgICAgJHtwb3N0LnRpdGxlfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGZvb3RlciBjbGFzcz1cImNhcmQtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJkLWZvb3Rlci1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBpcy1kYW5nZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaWNvbiBpcy1zbWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuLWRlbGV0ZS10b2RvXCI+XG4gICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9KTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBwcml2YXRlIGdldFRvRG9UaXRsZSgkZWxlbWVudDogSFRNTERpdkVsZW1lbnQpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgcmV0dXJuICRlbGVtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KCcuY29udGVudCcpIHx8ICRlbGVtZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyVGl0bGVDbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgJHRhcmdldCA9IDxIVE1MRGl2RWxlbWVudD5lLnRhcmdldDtcbiAgICBjb25zdCAkdGl0bGUgPSB0aGlzLmdldFRvRG9UaXRsZSgkdGFyZ2V0KTtcbiAgICBpZiAoJHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtY29udGVudCcpKSB7XG4gICAgICBpZiAoJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ3B4LTQnLCAncHktNCcpO1xuICAgICAgICAkdGl0bGUuY29udGVudEVkaXRhYmxlID0gJ2ZhbHNlJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICR0aXRsZS5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSc7XG4gICAgJHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3B4LTQnLCAncHktNCcpO1xuICAgICR0aXRsZS5mb2N1cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyVGl0bGVCbHVyKGU6IEZvY3VzRXZlbnQpIHtcbiAgICBjb25zdCAkdGl0bGUgPSA8SFRNTERpdkVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgY29uc3QgJHRvZG9DYXJkID0gJHRpdGxlLmNsb3Nlc3QoJy5jYXJkLWNvbnRlbnQnKTtcblxuICAgIGNvbnN0IHBvc3Q6IFBvc3QgPSBKU09OLnBhcnNlKDxzdHJpbmc+JHRpdGxlLmRhdGFzZXQucG9zdCk7XG4gICAgcG9zdC50aXRsZSA9ICR0aXRsZS5pbm5lclRleHQ7XG5cbiAgICAkdG9kb0NhcmQ/LmNsYXNzTGlzdC5hZGQoJ2hhcy1iYWNrZ3JvdW5kLXdhcm5pbmcnKTtcbiAgICAkdGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgncHgtNCcsICdweS00Jyk7XG4gICAgJHRpdGxlLmNvbnRlbnRFZGl0YWJsZSA9ICdmYWxzZSc7XG4gICAgdGhpcy50b0RvU2VydmljZS51cGRhdGUocG9zdCkudGhlbigoKSA9PiB7XG4gICAgICAkdG9kb0NhcmQ/LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsXG4gICAgICAgIChlOiBhbnkpID0+IHRoaXMuaGFuZGxlclRpdGxlQ2xpY2soZSksXG4gICAgICAgIHtcbiAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgJHRvZG9DYXJkPy5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtYmFja2dyb3VuZC13YXJuaW5nJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZXJUb0RvQ2FyZEFjdGlvbnMoJHRvZG9DYXJkczogTm9kZUxpc3RPZjxIVE1MRGl2RWxlbWVudD4pOiB2b2lkIHtcbiAgICAkdG9kb0NhcmRzLmZvckVhY2goKCR0b2RvQ2FyZDogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0ICR0aXRsZSA9IHRoaXMuZ2V0VG9Eb1RpdGxlKCR0b2RvQ2FyZCk7XG4gICAgICBjb25zdCAkYnRuRGVsZXRlID0gJHRvZG9DYXJkXG4gICAgICAgIC5jbG9zZXN0KCcuY2FyZCcpXG4gICAgICAgID8ucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJ2J1dHRvbicpO1xuXG4gICAgICAkdG9kb0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5oYW5kbGVyVGl0bGVDbGljayhlKSwge1xuICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICAkdGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB0aGlzLmhhbmRsZXJUaXRsZUJsdXIoZSkpO1xuICAgICAgJGJ0bkRlbGV0ZSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5kZWxldGVUb0RvKGUpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgJHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihcbiAgICAgIHRoaXMuc2VsZWN0b3JcbiAgICApO1xuXG4gICAgaWYgKCEkdG9kb0NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudG9Eb1NlcnZpY2UuZ2V0QWxsKCkudGhlbigocG9zdHM6IEFycmF5PFBvc3Q+KSA9PiB7XG4gICAgICB0aGlzLnBvc3RzID0gcG9zdHM7XG4gICAgICBzdXBlci5yZW5kZXIoeyBkYXRhOiB0aGlzLnRlbXBsYXRlKCkgfSk7XG4gICAgICBjb25zdCAkdG9kb0NhcmRzID0gJHRvZG9Db250YWluZXIucXVlcnlTZWxlY3RvckFsbDxIVE1MRGl2RWxlbWVudD4oXG4gICAgICAgICcuY2FyZC1jb250ZW50J1xuICAgICAgKTtcbiAgICAgIHRoaXMuaGFuZGxlclRvRG9DYXJkQWN0aW9ucygkdG9kb0NhcmRzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZGVsZXRlVG9EbyhlOiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgJHRhcmdldCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICBjb25zdCAkYnRuID0gJHRhcmdldC5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBjb25zdCAkdG9kbyA9ICR0YXJnZXRcbiAgICAgIC5jbG9zZXN0KCdhcnRpY2xlJylcbiAgICAgID8ucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJy5jb250ZW50JykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgY29uc3QgcG9zdDogUG9zdCA9IEpTT04ucGFyc2UoPHN0cmluZz4kdG9kby5kYXRhc2V0LnBvc3QpO1xuICAgICRidG4hLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnRvRG9TZXJ2aWNlLmRlc3Ryb3kocG9zdCkudGhlbigoKSA9PiB7XG4gICAgICAkdG9kby5jbG9zZXN0KCdkaXYuY29sdW1uJyk/LnJlbW92ZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnLi4vdXRpbHMvaHR0cC1jbGllbnQnO1xuaW1wb3J0IHsgQXBpQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL2FwaS1jb25maWcnO1xuaW1wb3J0IHsgUG9zdCB9IGZyb20gJy4uL21vZGVscy9wb3N0JztcblxuZXhwb3J0IGNsYXNzIFRvRG9TZXJ2aWNlIHtcbiAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50O1xuICBwcml2YXRlIHNlcnZpY2VVUkw6IHN0cmluZyA9IGAke0FwaUNvbmZpZy5CQVNFX1VSTH0vdG9kb3MvYDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmh0dHAgPSBuZXcgSHR0cENsaWVudCgpO1xuICB9XG5cbiAgZ2V0QWxsKGxpbWl0OiBudW1iZXIgPSAyMCk6IFByb21pc2U8QXJyYXk8UG9zdD4+IHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldChgJHt0aGlzLnNlcnZpY2VVUkx9P19saW1pdD0ke2xpbWl0fWApO1xuICB9XG5cbiAgZmluZCgpIHt9XG5cbiAgY3JlYXRlKHBvc3Q6IFBvc3QpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QoYCR7dGhpcy5zZXJ2aWNlVVJMfWAsIHBvc3QpO1xuICB9XG5cbiAgdXBkYXRlKHBvc3Q6IFBvc3QpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwLnVwZGF0ZShgJHt0aGlzLnNlcnZpY2VVUkx9JHtwb3N0LmlkfWAsIHBvc3QpO1xuICB9XG5cbiAgZGVzdHJveShwb3N0OiBQb3N0KSB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5kZXN0cm95KGAke3RoaXMuc2VydmljZVVSTH0ke3Bvc3QuaWR9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5hdkJhckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb21tb24vbmF2LWJhci5jb21wb25lbnQnO1xuaW1wb3J0IHsgVG9Eb0NhcmRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdG9kby90by1kby1jYXJkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDcmVhdGVUb0RvQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RvZG8vY3JlYXRlLXRvLWRvLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBVcGxvYWRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdXBsb2FkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQcmFjdGljZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9wcmFjdGljZS5jb21wb25lbnQnO1xuXG5jbGFzcyBBcHAge1xuICBzdGFydCgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJz4+IFN0YXJ0IGFwcCcpO1xuICAgICAgbmV3IE5hdkJhckNvbXBvbmVudCh7IHNlbGVjdG9yOiAnLm5hdmJhci1idXJnZXInIH0pLnJlbmRlcigpO1xuICAgICAgbmV3IFByYWN0aWNlQ29tcG9uZW50KHsgc2VsZWN0b3I6ICcjcHJhY3RpY2VzJyB9KS5yZW5kZXIoKTtcbiAgICAgIG5ldyBVcGxvYWRDb21wb25lbnQoeyBzZWxlY3RvcjogJyNmcm0tdXBsb2FkJyB9KS5yZW5kZXIoKTtcblxuICAgICAgbmV3IFRvRG9DYXJkQ29tcG9uZW50KHsgc2VsZWN0b3I6ICcjdG8tZG8tY29udGFpbmVyJyB9KS5yZW5kZXIoKTtcbiAgICAgIG5ldyBDcmVhdGVUb0RvQ29tcG9uZW50KHsgc2VsZWN0b3I6ICcjZnJtLWNyZWF0ZS1wb3N0JyB9KS5yZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5uZXcgQXBwKCkuc3RhcnQoKTtcbiIsImltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvYmFzZS1jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS9vcHRpb25zL2NvbXBvbmVudC1vcHRpb24nO1xuaW1wb3J0IHsgUmVuZGVyZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2NvbXBvbmVudHMvcmVuZGVyZWQtY29tcG9uZW50JztcblxuY29uc3QgREVGQVVMVF9UQVJHRVQgPSAnbmF2TWVudSc7XG5jb25zdCBOQVZfVE9HR0xFX0NMQVNTID0gJ2lzLWFjdGl2ZSc7XG5cbmV4cG9ydCBjbGFzcyBOYXZCYXJDb21wb25lbnRcbiAgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG4gIGltcGxlbWVudHMgUmVuZGVyZWRDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBDb21wb25lbnRPcHRpb24pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZE5hdkJhckVsZW1lbnRzKCk6IEFycmF5PEhUTUxFbGVtZW50PiB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKSxcbiAgICAgIDBcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyTmF2QmFyQ2xpY2soJG5hdjogSFRNTEVsZW1lbnQpIHtcbiAgICAkbmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy8gR2V0IHRoZSB0YXJnZXQgZnJvbSB0aGUgXCJkYXRhLXRhcmdldFwiIGF0dHJpYnV0ZVxuICAgICAgY29uc3QgdGFyZ2V0ID0gJG5hdi5kYXRhc2V0LnRhcmdldCB8fCBERUZBVUxUX1RBUkdFVDtcbiAgICAgIGNvbnN0ICR0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO1xuXG4gICAgICAvLyBUb2dnbGUgdGhlIFwiaXMtYWN0aXZlXCIgY2xhc3Mgb24gYm90aCB0aGUgXCJuYXZiYXItYnVyZ2VyXCIgYW5kIHRoZSBcIm5hdmJhci1tZW51XCJcbiAgICAgICRuYXYuY2xhc3NMaXN0LnRvZ2dsZShOQVZfVE9HR0xFX0NMQVNTKTtcbiAgICAgICR0YXJnZXQ/LmNsYXNzTGlzdC50b2dnbGUoTkFWX1RPR0dMRV9DTEFTUyk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgLy8gR2V0IGFsbCBcIm5hdmJhci1idXJnZXJcIiBlbGVtZW50c1xuICAgIGNvbnN0ICRuYXZiYXJCdXJnZXIgPSB0aGlzLmZpbmROYXZCYXJFbGVtZW50cygpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSBuYXZiYXIgYnVyZ2Vyc1xuICAgIC8vIGlmICgkbmF2YmFyQnVyZ2Vycy5sZW5ndGggPiAwKSB7XG4gICAgLy8gQWRkIGEgY2xpY2sgZXZlbnQgb24gZWFjaCBvZiB0aGVtXG4gICAgJG5hdmJhckJ1cmdlcj8uZm9yRWFjaCh0aGlzLmhhbmRsZXJOYXZCYXJDbGljayk7XG4gICAgLy8gfVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgSHR0cENsaWVudCB7XG4gIGdldCh1cmw6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIEh0dHBDbGllbnQuY29uZmlndXJlUmVxdWVzdCh1cmwsICdHRVQnKTtcbiAgfVxuXG4gIGRlc3Ryb3kodXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBIdHRwQ2xpZW50LmNvbmZpZ3VyZVJlcXVlc3QodXJsLCAnREVMRVRFJyk7XG4gIH1cblxuICBwb3N0KHVybDogc3RyaW5nLCBib2R5OiBvYmplY3QgfCBudWxsID0gbnVsbCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIEh0dHBDbGllbnQuY29uZmlndXJlUmVxdWVzdCh1cmwsICdQT1NUJywgYm9keSk7XG4gIH1cblxuICB1cGRhdGUodXJsOiBzdHJpbmcsIGJvZHk6IG9iamVjdCB8IG51bGwgPSBudWxsKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gSHR0cENsaWVudC5jb25maWd1cmVSZXF1ZXN0KHVybCwgJ1BVVCcsIGJvZHkpO1xuICB9XG5cbiAgc3RhdGljIGNvbmZpZ3VyZVJlcXVlc3QoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgYm9keTogb2JqZWN0IHwgbnVsbCA9IG51bGxcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2QsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgfSxcbiAgICB9KS50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBcGlDb25maWcge1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJBU0VfVVJMOiBzdHJpbmcgPVxuICAgICdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20nO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS9vcHRpb25zL2NvbXBvbmVudC1vcHRpb24nO1xuaW1wb3J0IHsgVG9Eb1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy90by1kby5zZXJ2aWNlJztcbmltcG9ydCB7IFJlbmRlcmVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL3JlbmRlcmVkLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb3N0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL3Bvc3QnO1xuXG5leHBvcnQgY2xhc3MgQ3JlYXRlVG9Eb0NvbXBvbmVudCBpbXBsZW1lbnRzIFJlbmRlcmVkQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBvcHRpb25zOiBDb21wb25lbnRPcHRpb24sXG4gICAgcHJpdmF0ZSB0b0RvU2VydmljZTogVG9Eb1NlcnZpY2UgPSBuZXcgVG9Eb1NlcnZpY2UoKVxuICApIHt9XG4gIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCAkZm9ybTogSFRNTEZvcm1FbGVtZW50ID0gPEhUTUxGb3JtRWxlbWVudD4oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3RvcilcbiAgICApO1xuICAgIGlmICgkZm9ybSkge1xuICAgICAgJGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgJGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+KFxuICAgICAgICAgICRmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0ICR0aXRsZTogSFRNTFRleHRBcmVhRWxlbWVudCA9IDxIVE1MVGV4dEFyZWFFbGVtZW50PihcbiAgICAgICAgICAkZm9ybS5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICAgICk7XG5cbiAgICAgICAgJHRpdGxlLmNsb3Nlc3QoJy5jb250cm9sJyk/LmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcbiAgICAgICAgJGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcG9zdDogUG9zdCA9IG5ldyBQb3N0KCR0aXRsZS52YWx1ZSk7XG4gICAgICAgIHRoaXMudG9Eb1NlcnZpY2UuY3JlYXRlKHBvc3QpLnRoZW4oKGRhdGE6IFBvc3QpID0+IHtcbiAgICAgICAgICBwb3N0LmlkID0gZGF0YS5pZDtcbiAgICAgICAgICBsZXQgdGVtcGxhdGU6IHN0cmluZyA9IGBcbiAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cImNhcmRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPGRpdiAgY2xhc3M9XCJjb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1pZD1cIiR7cG9zdC5pZH1cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRpdGxlPVwiJHtwb3N0LnRpdGxlfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9zdD0nJHtKU09OLnN0cmluZ2lmeShwb3N0KX0nPlxuICAgICAgICAgICAgICAgICR7cG9zdC50aXRsZX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxmb290ZXIgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2FyZC1mb290ZXItaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb24gaXMtc21hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L2k+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0bi1kZWxldGUtdG9kb1wiPlxuICAgICAgICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgYDtcbiAgICAgICAgICBjb25zdCBuZXdQb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgbmV3UG9zdC5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nLCAnaXMtMTInKTtcbiAgICAgICAgICBuZXdQb3N0LmlubmVySFRNTCA9IHRlbXBsYXRlO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0by1kby1jb250YWluZXInKT8ucHJlcGVuZChuZXdQb3N0KTtcblxuICAgICAgICAgIC8vIG5ld1Bvc3RcbiAgICAgICAgICAvLyAgIC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignLmNhcmQtY29udGVudCcpXG4gICAgICAgICAgLy8gICA/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlclRpdGxlQ2xpY2spO1xuXG4gICAgICAgICAgLy8gJHRpdGxlLmNsb3Nlc3QoJy5jb250cm9sJyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcbiAgICAgICAgICAvLyAkYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcbiAgICAgICAgICAvLyAkYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgLy8gJHRpdGxlLnZhbHVlID0gJyc7XG4gICAgICAgICAgLy8gJGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3N0IHtcbiAgdXNlcklkOiBudW1iZXIgPSAwO1xuICBpZD86IG51bWJlciA9IDA7XG4gIHRpdGxlOiBzdHJpbmcgPSAnJztcbiAgYm9keTogc3RyaW5nID0gJyc7XG5cbiAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZykge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vY29yZS9vcHRpb25zL2NvbXBvbmVudC1vcHRpb24nO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvcmUvY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBSZW5kZXJlZENvbXBvbmVudCB9IGZyb20gJy4uL2NvcmUvY29tcG9uZW50cy9yZW5kZXJlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgVXBsb2FkQ29tcG9uZW50XG4gIGV4dGVuZHMgQmFzZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIFJlbmRlcmVkQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogQ29tcG9uZW50T3B0aW9uKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZXJVcGxvYWRJbnB1dE5hbWUoJGZvcm06IEVsZW1lbnQpIHtcbiAgICBjb25zdCAkZmlsZSA9IDxIVE1MSW5wdXRFbGVtZW50PiRmb3JtPy5xdWVyeVNlbGVjdG9yKCcjZmlsZScpO1xuICAgICRmaWxlPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZTogRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVzID0gKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5maWxlczsgLy8gJGZpbGVzLmZpbGVzXG4gICAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCAkZmlsZW5hbWUgPSAkZm9ybT8ucXVlcnlTZWxlY3RvcignLmZpbGUtbmFtZScpO1xuICAgICAgICBpZiAoJGZpbGVuYW1lKSB7XG4gICAgICAgICAgJGZpbGVuYW1lLnRleHRDb250ZW50ID0gZmlsZXNbMF0ubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVyVXBsb2FkKGU6IEV2ZW50KTogYm9vbGVhbiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhcmdldDogSFRNTEZvcm1FbGVtZW50ID0gPEhUTUxGb3JtRWxlbWVudD5lLnRhcmdldDtcbiAgICBjb25zdCBib2R5ID0gbmV3IEZvcm1EYXRhKHRhcmdldCk7XG4gICAgLy8gY29uc3QgZmlsZSA9ICg8SFRNTElucHV0RWxlbWVudD4kZm9ybS5xdWVyeVNlbGVjdG9yKCcjZmlsZScpKS5maWxlcztcbiAgICAvLyBjb25zb2xlLmxvZyhmaWxlKTtcbiAgICAvLyBpZiAoZmlsZSkge1xuICAgIC8vICAgYm9keS5hcHBlbmQoJ2ZpbGUnLCBmaWxlWzBdKTtcbiAgICAvLyB9XG5cbiAgICAvLyBUT0RPOiBUaGlzIGNhbiBiZSBhIHNlcnZpY2VcbiAgICBmZXRjaCh0YXJnZXQuYWN0aW9uLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgIC50aGVuKChkYXRhOiBzdHJpbmcpID0+IGFsZXJ0KGRhdGEpKVxuICAgICAgLmNhdGNoKChlcnI6IEVycm9yKSA9PlxuICAgICAgICBjb25zb2xlLmVycm9yKCdbVXBsb2FkIGZldGNoIGVycm9yXTonLCBlcnIubWVzc2FnZSlcbiAgICAgICk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCAkZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3Rvcik7XG4gICAgJGZvcm0gJiYgdGhpcy5oYW5kbGVyVXBsb2FkSW5wdXROYW1lKCRmb3JtKTtcbiAgICAkZm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVyVXBsb2FkKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50T3B0aW9uIH0gZnJvbSAnLi4vY29yZS9vcHRpb25zL2NvbXBvbmVudC1vcHRpb24nO1xuaW1wb3J0IHsgUHJhY3RpY2VTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvcHJhY3RpY2Uuc2VydmljZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29yZS9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50JztcbmltcG9ydCB7IFJlbmRlcmVkQ29tcG9uZW50IH0gZnJvbSAnLi4vY29yZS9jb21wb25lbnRzL3JlbmRlcmVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBQcmFjdGljZUNvbXBvbmVudFxuICBleHRlbmRzIEJhc2VDb21wb25lbnRcbiAgaW1wbGVtZW50cyBSZW5kZXJlZENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIG9wdGlvbnM6IENvbXBvbmVudE9wdGlvbixcbiAgICBwcml2YXRlIHByYWN0aWNlU2VydmljZTogUHJhY3RpY2VTZXJ2aWNlID0gbmV3IFByYWN0aWNlU2VydmljZSgpXG4gICkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG5cbiAgcmVuZGVyKCk6IHZvaWQge1xuICAgIGNvbnN0ICRwcmFjdGljZTogSFRNTEZvcm1FbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLnNlbGVjdG9yXG4gICAgKTtcbiAgICBpZiAoJHByYWN0aWNlKSB7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5maXJzdEZldGNoKCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5maXJzdEZldGNoV2l0aEFzeW5jQXdhaXQoKTtcbiAgICAgIHRoaXMucHJhY3RpY2VTZXJ2aWNlLmhhbmRsZUVycm9yKCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5xdWVyeVBhcmFtcygpO1xuICAgICAgdGhpcy5wcmFjdGljZVNlcnZpY2UuaHR0cE1ldGhvZFBvc3QoKTtcbiAgICAgIHRoaXMucHJhY3RpY2VTZXJ2aWNlLmh0dHBNZXRob2RHZXQoKTtcbiAgICAgIHRoaXMucHJhY3RpY2VTZXJ2aWNlLmh0dHBNZXRob2RQdXQoKTtcbiAgICAgIHRoaXMucHJhY3RpY2VTZXJ2aWNlLmh0dHBIZWFkZXJzKCk7XG4gICAgICB0aGlzLnByYWN0aWNlU2VydmljZS5odHRwQ29va2llcygpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9zdCB9IGZyb20gJy4uL21vZGVscy9wb3N0JztcblxuZXhwb3J0IGNsYXNzIFByYWN0aWNlU2VydmljZSB7XG4gIHB1YmxpYyBmaXJzdEZldGNoKCkge1xuICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyh0eXBlb2YgcmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkgLy8gcmVzcG9uc2U6IFVpbnQ4QXJyYXlcbiAgICAgIC50aGVuKChwb3N0czogQXJyYXk8UG9zdD4pID0+IGNvbnNvbGUubG9nKHBvc3RzKSk7XG4gIH1cblxuICBwdWJsaWMgZmlyc3RGZXRjaFdpdGhBc3luY0F3YWl0KCkge1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZTogUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cydcbiAgICAgICk7XG4gICAgICBjb25zdCBib2R5OiBBcnJheTxQb3N0PiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKGJvZHkpO1xuICAgIH0pKCk7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlRXJyb3IoKSB7XG4gICAgLy8gSGFuZGxlIGVycm9yXG4gICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3MnKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgU3RhdHVzIGNvZGU6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaW4gdGhlIGZldGNoIHJlcXVlc3QnKTtcbiAgICAgICAgfVxuICAgICAgfSkgLy8gcmVzcG9uc2U6IFVpbnQ4QXJyYXlcbiAgICAgIC50aGVuKChwb3N0czogQXJyYXk8UG9zdD4pID0+IGNvbnNvbGUubG9nKHBvc3RzKSlcbiAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4gY29uc29sZS5lcnJvcignW0ZldGNoIGVycm9yXTonLCBlcnIubWVzc2FnZSkpO1xuICB9XG5cbiAgcHVibGljIHF1ZXJ5UGFyYW1zKCkge1xuICAgIC8vIFF1ZXJ5IHBhcmFtc1xuICAgIC8vIFJlYWQgbW9yZSBvbjogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2ZldGNoLWFwaVxuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgdXNlcklkOiAxLFxuICAgICAgX2xpbWl0OiAzLFxuICAgIH07XG4gICAgY29uc3QgdXJsOiBVUkwgPSBuZXcgVVJMKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKTtcbiAgICBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykuZm9yRWFjaCgocGFyYW1LZXk6IHN0cmluZykgPT4ge1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQocGFyYW1LZXksIHF1ZXJ5UGFyYW1zW3BhcmFtS2V5XSk7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2codXJsKTtcbiAgICBmZXRjaCh1cmwuaHJlZilcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkgLy8gcmVzcG9uc2U6IFVpbnQ4QXJyYXlcbiAgICAgIC50aGVuKChwb3N0czogQXJyYXk8UG9zdD4pID0+IGNvbnNvbGUubG9nKHBvc3RzKSk7XG4gIH1cblxuICBwdWJsaWMgaHR0cE1ldGhvZFBvc3QoKSB7XG4gICAgLy8gSFRUUCAtIE1ldGhvZHNcbiAgICAvLyBSZWFkIG1vcmUgb246IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VzL2RvY3MvV2ViL0hUVFAvTWV0aG9kc1xuXG4gICAgLy8gUE9TVFxuICAgIGNvbnN0IHBvc3Q6IFBvc3QgPSB7XG4gICAgICB1c2VySWQ6IDEsXG4gICAgICB0aXRsZTogJ2ZvbycsXG4gICAgICBib2R5OiAnYmFyJyxcbiAgICB9O1xuICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBvc3QpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkgLy8gcmVzcG9uc2U6IFVpbnQ4QXJyYXlcbiAgICAgIC50aGVuKChwb3N0OiBQb3N0KSA9PiBjb25zb2xlLmxvZyhwb3N0KSk7XG4gIH1cblxuICBwdWJsaWMgaHR0cE1ldGhvZEdldCgpIHtcbiAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS8nLCB7IG1ldGhvZDogJ0dFVCcgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4gY29uc29sZS5lcnJvcignW0NvcnMgZmV0Y2ggZXJyb3JdOicsIGVyci5tZXNzYWdlKSk7XG4gIH1cblxuICBwdWJsaWMgaHR0cE1ldGhvZFB1dCgpIHtcbiAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS8nLCB7IG1ldGhvZDogJ1BVVCcgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4gY29uc29sZS5lcnJvcignW0NvcnMgZmV0Y2ggZXJyb3JdOicsIGVyci5tZXNzYWdlKSk7XG4gIH1cblxuICBwdWJsaWMgaHR0cEhlYWRlcnMoKSB7XG4gICAgLy8gSGVhZGVyc1xuICAgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpLycsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICBBdXRoZW50aWNhdGlvbjogJ0JlYXJlcjogeHh4eHh4eHl5eXl4eHh4eXl5JyxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4gY29uc29sZS5lcnJvcignW0NvcnMgZmV0Y2ggZXJyb3JdOicsIGVyci5tZXNzYWdlKSk7XG4gIH1cblxuICBwdWJsaWMgaHR0cENvb2tpZXMoKSB7XG4gICAgLy8gQ29va2llc1xuICAgIGRvY3VtZW50LmNvb2tpZSA9ICd1c2VybmFtZT1TYW11ZWwnO1xuICAgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpLycsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICBBdXRoZW50aWNhdGlvbjogJ0JlYXJlcjogeHh4eHh4eHl5eXl4eHh4eXl5JyxcbiAgICAgIH0sXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgLyoqXG4gICAgICAgKiBvbWl0OiBOZXZlciBzZW5kIG9yIHJlY2VpdmUgY29va2llcy5cbiAgICAgICAqIHNhbWUtb3JpZ2luOiBTZW5kIHVzZXIgY3JlZGVudGlhbHMgKGNvb2tpZXMsIGJhc2ljIGh0dHAgYXV0aCwgZXRjLi4pIGlmIHRoZSBVUkwgaXMgb24gdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjYWxsaW5nIHNjcmlwdC4gVGhpcyBpcyB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgICAqIGluY2x1ZGU6IEFsd2F5cyBzZW5kIHVzZXIgY3JlZGVudGlhbHMgKGNvb2tpZXMsIGJhc2ljIGh0dHAgYXV0aCwgZXRjLi4pLCBldmVuIGZvciBjcm9zcy1vcmlnaW4gY2FsbHMuXG4gICAgICAgKi9cbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKVxuICAgICAgLmNhdGNoKChlcnI6IEVycm9yKSA9PiBjb25zb2xlLmVycm9yKCdbQ29ycyBmZXRjaCBlcnJvcl06JywgZXJyLm1lc3NhZ2UpKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==