!function(){"use strict";var t,e,n,o,r,i={359:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NavBarComponent=void 0;var i=n(148),c="is-active",a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.findNavBarElements=function(){return Array.prototype.slice.call(document.querySelectorAll(this.selector),0)},e.prototype.handlerNavBarClick=function(t){t.addEventListener("click",(function(){var e=t.dataset.target||"navMenu",n=document.getElementById(e);t.classList.toggle(c),null==n||n.classList.toggle(c)}))},e.prototype.render=function(){var t=this.findNavBarElements();null==t||t.forEach(this.handlerNavBarClick)},e}(i.BaseComponent);e.NavBarComponent=a},462:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PracticeComponent=void 0;var i=n(541),c=function(t){function e(e,n){void 0===n&&(n=new i.PracticeService);var o=t.call(this,e)||this;return o.practiceService=n,o}return r(e,t),e.prototype.render=function(){document.querySelector(this.selector)&&(this.practiceService.firstFetch(),this.practiceService.firstFetchWithAsyncAwait(),this.practiceService.handleError(),this.practiceService.queryParams(),this.practiceService.httpMethodPost(),this.practiceService.httpMethodGet(),this.practiceService.httpMethodPut(),this.practiceService.httpHeaders(),this.practiceService.httpCookies())},e}(n(148).BaseComponent);e.PracticeComponent=c},739:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CreateToDoComponent=void 0;var i=n(891),c=n(579),a=function(t){function e(e,n){void 0===n&&(n=new i.ToDoService);var o=t.call(this,e)||this;return o.toDoService=n,o}return r(e,t),e.prototype.template=function(t){return'\n    <article class="card">\n      <div class="card-content">\n        <div  class="content"\n              data-id="'+t.id+'"\n              data-title="'+t.title+"\"\n              data-post='"+JSON.stringify(t)+"'>\n          "+t.title+'\n        </div>\n      </div>\n      <footer class="card-footer">\n        <a href="#" class="card-footer-item">\n          <button class="button is-danger">\n            <span class="icon is-small">\n              <i class="fas fa-trash"></i>\n            </span>\n            <span class="btn-delete-todo">\n              Delete\n            </span>\n          </button>\n        </a>\n      </footer>\n    </article>\n'},e.prototype.getToDoTitle=function(t){return t.querySelector(".content")||t},e.prototype.handlerTitleClick=function(t){var e=t.target,n=this.getToDoTitle(e);if(e.classList.contains("card-content")&&"true"===n.contentEditable)return t.preventDefault(),n.classList.remove("px-4","py-4"),void(n.contentEditable="false");"true"!==n.contentEditable&&(n.contentEditable="true",n.classList.add("px-4","py-4"),n.focus())},e.prototype.handlerTitleBlur=function(t){var e=this,n=t.target,o=n.closest(".card-content"),r=JSON.parse(n.dataset.post);r.title=n.innerText,null==o||o.classList.add("has-background-warning"),n.classList.remove("px-4","py-4"),n.contentEditable="false",this.toDoService.update(r).then((function(){null==o||o.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),null==o||o.classList.remove("has-background-warning")}))},e.prototype.handlerDeleteToDo=function(t){var e,n=t.target,o=n.closest("button"),r=null===(e=n.closest("article"))||void 0===e?void 0:e.querySelector(".content"),i=JSON.parse(r.dataset.post);o.disabled=!0,this.toDoService.destroy(i).then((function(){var t;null===(t=r.closest("div.column"))||void 0===t||t.remove()}))},e.prototype.handlerCreateToDo=function(t){var e,n=this;t.preventDefault();var o=t.target,r=o.querySelector("button"),i=o.querySelector("textarea");null===(e=null==i?void 0:i.closest(".control"))||void 0===e||e.classList.add("is-loading"),null==r||r.classList.add("is-loading"),r.disabled=!0;var a=new c.Post(i.value);return this.toDoService.create(a).then((function(t){var e,o,c;a.id=200;var s=document.createElement("div");s.classList.add("column","is-12"),s.innerHTML=n.template(a),null===(e=document.querySelector("#to-do-container"))||void 0===e||e.prepend(s);var l=s.querySelector(".card");if(l){var u=n.getToDoTitle(l),p=null===(o=l.closest(".card"))||void 0===o?void 0:o.querySelector("button");l.addEventListener("click",(function(t){return n.handlerTitleClick(t)}),{once:!0}),u.addEventListener("blur",(function(t){return n.handlerTitleBlur(t)})),p.addEventListener("click",(function(t){return n.handlerDeleteToDo(t)}))}null===(c=null==i?void 0:i.closest(".control"))||void 0===c||c.classList.remove("is-loading"),null==r||r.classList.remove("is-loading"),r.disabled=!1,i.value=""})),!1},e.prototype.render=function(){var t=this,e=document.querySelector(this.selector);null==e||e.addEventListener("submit",(function(e){return t.handlerCreateToDo(e)}))},e}(n(148).BaseComponent);e.CreateToDoComponent=a},622:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToDoCardComponent=void 0;var i=n(891),c=function(t){function e(e,n){void 0===n&&(n=new i.ToDoService);var o=t.call(this,e)||this;return o.toDoService=n,o.posts=[],o}return r(e,t),e.prototype.template=function(){var t="";return this.posts.forEach((function(e){t+='\n        <div class="column is-12">\n          <article class="card">\n            <div class="card-content">\n              <div  class="content"\n                    data-id="'+e.id+'"\n                    data-title="'+e.title+"\"\n                    data-post='"+JSON.stringify(e)+"'>\n                "+e.title+'\n              </div>\n            </div>\n            <footer class="card-footer">\n              <a href="#" class="card-footer-item">\n                <button class="button is-danger">\n                  <span class="icon is-small">\n                    <i class="fas fa-trash"></i>\n                  </span>\n                  <span class="btn-delete-todo">\n                    Delete\n                  </span>\n                </button>\n              </a>\n            </footer>\n          </article>\n        </div>\n      '})),t},e.prototype.getToDoTitle=function(t){return t.querySelector(".content")||t},e.prototype.handlerTitleClick=function(t){var e=t.target,n=this.getToDoTitle(e);if(e.classList.contains("card-content")&&"true"===n.contentEditable)return t.preventDefault(),n.classList.remove("px-4","py-4"),void(n.contentEditable="false");"true"!==n.contentEditable&&(n.contentEditable="true",n.classList.add("px-4","py-4"),n.focus())},e.prototype.handlerTitleBlur=function(t){var e=this,n=t.target,o=n.closest(".card-content"),r=JSON.parse(n.dataset.post);r.title=n.innerText,null==o||o.classList.add("has-background-warning"),n.classList.remove("px-4","py-4"),n.contentEditable="false",this.toDoService.update(r).then((function(){null==o||o.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),null==o||o.classList.remove("has-background-warning")}))},e.prototype.handlerDeleteToDo=function(t){var e,n=t.target,o=n.closest("button"),r=null===(e=n.closest("article"))||void 0===e?void 0:e.querySelector(".content"),i=JSON.parse(r.dataset.post);o.disabled=!0,this.toDoService.destroy(i).then((function(){var t;null===(t=r.closest("div.column"))||void 0===t||t.remove()}))},e.prototype.handlerToDoCardActions=function(t){var e=this;t.forEach((function(t){var n,o=e.getToDoTitle(t),r=null===(n=t.closest(".card"))||void 0===n?void 0:n.querySelector("button");t.addEventListener("click",(function(t){return e.handlerTitleClick(t)}),{once:!0}),o.addEventListener("blur",(function(t){return e.handlerTitleBlur(t)})),r.addEventListener("click",(function(t){return e.handlerDeleteToDo(t)}))}))},e.prototype.render=function(){var e=this,n=document.querySelector(this.selector);n&&this.toDoService.getAll().then((function(o){e.posts=o,t.prototype.render.call(e,{data:e.template()});var r=n.querySelectorAll(".card-content");e.handlerToDoCardActions(r)}))},e}(n(148).BaseComponent);e.ToDoCardComponent=c},465:function(t,e,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UploadComponent=void 0;var i=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.handlerUploadInputName=function(t){var e=null==t?void 0:t.querySelector("#file");null==e||e.addEventListener("change",(function(e){var n=e.target.files;if(n&&n.length>0){var o=null==t?void 0:t.querySelector(".file-name");o&&(o.textContent=n[0].name)}}))},e.prototype.handlerUpload=function(t){t.preventDefault();var e=t.target,n=new FormData(e),o=document.location.href.includes("jsfetchapi.netlify.app")?"https://jsfetchapi.netlify.app/.netlify/functions/server/"+e.action.replace("https://jsfetchapi.netlify.app/upload/",""):"http://localhost:8000"+e.action.replace("http://localhost:8000/upload/","");return fetch(o,{method:"POST",body:n}).then((function(t){return t.text()})).then((function(t){return alert(t)})).catch((function(t){return console.error("[Upload fetch error]:",t.message)})),!1},e.prototype.render=function(){var t=document.querySelector(this.selector);t&&this.handlerUploadInputName(t),null==t||t.addEventListener("submit",this.handlerUpload)},e}(n(148).BaseComponent);e.UploadComponent=i},245:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ApiConfig=void 0;var n=function(){function t(){}return t.BASE_URL="https://jsonplaceholder.typicode.com",t}();e.ApiConfig=n},148:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseComponent=void 0;var n=function(){function t(t){this.selector=t.selector}return t.prototype.render=function(t){this.selector&&(document.querySelector(this.selector).innerHTML=null==t?void 0:t.data)},t}();e.BaseComponent=n},579:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Post=void 0;e.Post=function(t){this.userId=0,this.id=0,this.title="",this.body="",this.title=t}},541:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function c(t){try{s(o.next(t))}catch(t){i(t)}}function a(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((o=o.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PracticeService=void 0;var r=function(){function t(){}return t.prototype.firstFetch=function(){fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return console.log(typeof t),t.json()})).then((function(t){return console.log(t)}))},t.prototype.firstFetchWithAsyncAwait=function(){n(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,fetch("https://jsonplaceholder.typicode.com/posts")];case 1:return[4,e.sent().json()];case 2:return t=e.sent(),console.log(t),[2]}}))}))},t.prototype.handleError=function(){fetch("https://jsonplaceholder.typicode.com/pos").then((function(t){if(console.log("Status code: "+t.status),t.status>=200&&t.status<300)return t.json();throw new Error("Error in the fetch request")})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Fetch error]:",t.message)}))},t.prototype.queryParams=function(){var t={userId:1,_limit:3},e=new URL("https://jsonplaceholder.typicode.com/posts");Object.keys(t).forEach((function(n){e.searchParams.append(n,t[n])})),console.log(e),fetch(e.href).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},t.prototype.httpMethodPost=function(){fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({userId:1,title:"foo",body:"bar"}),headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json; charset=utf-8"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},t.prototype.httpMethodGet=function(){var t=document.location.href.includes("jsfetchapi.netlify.app")?"https://jsfetchapi.netlify.app/.netlify/functions/server/api/":"http://localhost:8000/api/";fetch(t,{method:"GET"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpMethodPut=function(){var t=document.location.href.includes("jsfetchapi.netlify.app")?"https://jsfetchapi.netlify.app/.netlify/functions/server/api/":"http://localhost:8000/api/";fetch(t,{method:"PUT"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpHeaders=function(){var t=document.location.href.includes("jsfetchapi.netlify.app")?"https://jsfetchapi.netlify.app/.netlify/functions/server/api/":"http://localhost:8000/api/";fetch(t,{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json; charset=utf-8",Authentication:"Bearer: xxxxxxxyyyyxxxxyyy"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t.prototype.httpCookies=function(){var t=document.location.href.includes("jsfetchapi.netlify.app")?"https://jsfetchapi.netlify.app/.netlify/functions/server/api/":"http://localhost:8000/api/";document.cookie="username=Samuel",fetch(t,{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json; charset=utf-8",Authentication:"Bearer: xxxxxxxyyyyxxxxyyy"},credentials:"include"}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.error("[Cors fetch error]:",t.message)}))},t}();e.PracticeService=r},891:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ToDoService=void 0;var o=n(713),r=n(245),i=function(){function t(){this.serviceURL=r.ApiConfig.BASE_URL+"/todos/",this.http=new o.HttpClient}return t.prototype.getAll=function(t){return void 0===t&&(t=20),this.http.get(this.serviceURL+"?_limit="+t)},t.prototype.find=function(){},t.prototype.create=function(t){return this.http.post(""+this.serviceURL,t)},t.prototype.update=function(t){return this.http.update(""+this.serviceURL+t.id,t)},t.prototype.destroy=function(t){return this.http.destroy(""+this.serviceURL+t.id)},t}();e.ToDoService=i},713:function(t,e){var n,o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function c(t){try{s(o.next(t))}catch(t){i(t)}}function a(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((o=o.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpClient=void 0,function(t){t.GET="GET",t.POST="POST",t.DELETE="DELETE",t.PUT="PUT"}(n||(n={}));var i=function(){function t(){}return t.prototype.get=function(e){return t.configureRequest(e,n.GET)},t.prototype.destroy=function(e){return t.configureRequest(e,n.DELETE)},t.prototype.post=function(e,o){return t.configureRequest(e,n.POST,o)},t.prototype.update=function(e,o){return t.configureRequest(e,n.PUT,o)},t.configureRequest=function(t,e,n){return o(this,void 0,void 0,(function(){return r(this,(function(o){switch(o.label){case 0:return[4,fetch(t,{method:e,body:JSON.stringify(n),headers:{Accept:"application/json;charset=utf-8","Content-Type":"application/json;charset=utf-8"}})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))}))},t}();e.HttpClient=i}},c={};function a(t){var e=c[t];if(void 0!==e)return e.exports;var n=c[t]={exports:{}};return i[t].call(n.exports,n,n.exports,a),n.exports}t=a(359),e=a(622),n=a(739),o=a(465),r=a(462),(new(function(){function i(){}return i.prototype.start=function(){document.addEventListener("DOMContentLoaded",(function(){console.log(">> Start app"),new t.NavBarComponent({selector:".navbar-burger"}).render(),new r.PracticeComponent({selector:"#practices"}).render(),new o.UploadComponent({selector:"#frm-upload"}).render(),new e.ToDoCardComponent({selector:"#to-do-container"}).render(),new n.CreateToDoComponent({selector:"#frm-create-post"}).render()})),"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js").then((function(t){console.log("Service worker registration succeeded:",t)})).catch((function(t){console.log("Service worker registration failed:",t)})):console.log("Service workers are not supported.")},i}())).start()}();